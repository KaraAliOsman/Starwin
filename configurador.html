<!DOCTYPE html>
<html lang="es">
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSNCP6Z2');</script>
<!-- End Google Tag Manager -->
    <link rel="canonical" href="https://starwinpvc.cl/configurador.html" />

<meta property="og:title" content="Starwin PVC | Configurador Online" />
<meta property="og:description" content="Configura tus ventanas de PVC Starwin con nuestra herramienta online: elige modelos, colores y tamaños personalizados." />
<meta property="og:url" content="https://starwinpvc.cl/configurador.html" />
<meta property="og:type" content="website" />
<meta property="og:image" content="https://starwinpvc.cl/fijo.webp" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotizador Online Ventanas Pvc - Starwin Chile</title>
    
    <meta name="description" content="Configura y cotiza online tus ventanas PVC a medida. Elige dimensiones, aperturas, colores y accesorios.">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Google Fonts: Inter & Poppins & Roboto Slab -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700&family=Roboto+Slab:wght@400;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- PDF Generation Libraries (jsPDF) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="icon" type="image/x-icon" href="/favicon/favicon.ico">
    
    <!-- Iconos para Android -->
    <link rel="icon" type="image/png" sizes="192x192" href="/favicon/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon/android-chrome-512x512.png">
    
    <!-- Icono para iOS -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    
    <!-- Manifest para PWA -->
    <link rel="manifest" href="/favicon/site.webmanifest">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V7XMTT9BD4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V7XMTT9BD4'); // GA4
  gtag('config', 'AW-17023112953'); // Ads
</script>
<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '675431382021364');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=675431382021364&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->

<style>
    /* --- Variables y Estilos Base Mejorados --- */
    :root {
        /* Variables de Starwin (Turquesa/Naranja) */
        --brand-primary: #17A2B8; /* Turquesa Principal */
        --brand-primary-dark: #117A8B; /* Turquesa Oscuro (Hover) */
        --brand-secondary: #6c757d; /* Gris Medio (Texto secundario, bordes) */
        --brand-accent: #fd7e14;   /* Naranja (CTAs principales) */
        --brand-accent-dark: #E6710F; /* Naranja Oscuro (Hover) */
        --brand-dark: #343a40;     /* Gris Oscuro (Texto principal, fondos oscuros) */
        --brand-lightgray: #f8f9fa; /* Gris Claro (Fondos alternos) */
        --brand-extralightgray: #e9ecef; /* Gris Muy Claro (Bordes sutiles, fondos) */
        --brand-white: #ffffff;
        --brand-navbar-bg: #f8f9fa; /* Gris muy claro para navbar */
        --text-muted: var(--brand-secondary); /* Gris medio para texto muted */
        --border-color: #dee2e6; /* Color de borde por defecto de Bootstrap, usado en config */

        /* Convertidos a RGB para Bootstrap */
        --bs-primary-rgb: 23, 162, 184;
        --bs-secondary-rgb: 108, 117, 125;
        --bs-dark-rgb: 52, 58, 64;
        --bs-link-color-rgb: var(--bs-primary-rgb);
        --bs-link-hover-color-rgb: 17, 122, 139; /* Darker turquoise */

        /* Fuentes */
        --font-primary: 'Inter', sans-serif; /* Fuente base del configurador */
        --font-headings-config: 'Roboto Slab', serif; /* Fuente títulos del configurador */
        --font-family-sans-serif: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        --font-family-headings: 'Poppins', var(--font-family-sans-serif); /* Fuente para Navbar/Footer */

        /* Tamaños de fuente base Starwin */
        --base-font-size-lg: 17.5px;
        --base-font-size-md: 16.5px;
        --base-font-size-sm: 16px;

        /* Padding estándar para secciones Starwin */
        --section-padding-y: 5.5rem;
        --section-padding-y-sm: 4rem;

        /* Otros Starwin */
        --border-radius-base: 0.6rem;
        --border-radius-sm: 0.4rem;
        --box-shadow-sm: 0 0.125rem 0.35rem rgba(0, 0, 0, 0.07);
        --box-shadow-md: 0 0.5rem 1.2rem rgba(0, 0, 0, 0.1);
        --box-shadow-lg: 0 1.2rem 3.5rem rgba(0, 0, 0, 0.13);
        --transition-base: all 0.3s ease-in-out;

        /* Específicos del Configurador */
        --canvas-max-height: 400px; /* Altura máxima visual del canvas */
        --canvas-min-visual-dim: 75px; /* Mínimo tamaño visual del canvas */
        --canvas-min-frame-px: 4px; /* Mínimo ancho visual del marco en canvas */
        --canvas-min-center-px: 15px; /* <<-- NUEVO: Mínimo ancho/alto del área central (vidrio) en px */
    }

    html {
        scroll-behavior: smooth;
        font-size: var(--base-font-size-lg);
    }
    @media (max-width: 1200px) { html { font-size: var(--base-font-size-md); } }
    @media (max-width: 768px) { html { font-size: var(--base-font-size-sm); } }

    body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background-color: var(--brand-white);
        font-family: var(--font-primary);
        color: var(--brand-dark);
        line-height: 1.7;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    main {
        flex-grow: 1;
        padding-top: 2.5rem;
        padding-bottom: 3rem;
    }
     @media (min-width: 992px) {
        main {
            padding-top: 3rem;
            padding-bottom: 4rem;
        }
     }

    /* --- Tipografía y Títulos (Configurador - Roboto Slab) --- */
    .configurator-wrapper h1, .configurator-wrapper .h1,
    .configurator-wrapper h2, .configurator-wrapper .h2,
    .configurator-wrapper h3, .configurator-wrapper .h3,
    .configurator-wrapper h4, .configurator-wrapper .h4,
    .configurator-wrapper h5, .configurator-wrapper .h5,
    .configurator-wrapper h6, .configurator-wrapper .h6 {
        font-family: var(--font-headings-config);
        font-weight: 700;
        color: var(--brand-dark);
        line-height: 1.4;
    }
    .configurator-wrapper h1, .configurator-wrapper .h1 { font-size: calc(1.4rem + 1.8vw); margin-bottom: 0.75rem;}
    @media (min-width: 1200px) { .configurator-wrapper h1, .configurator-wrapper .h1 { font-size: 2.8rem; } }
    .configurator-wrapper h2, .configurator-wrapper .h2 { font-size: calc(1.3rem + 1.2vw); margin-bottom: 1.5rem;}
    @media (min-width: 1200px) { .configurator-wrapper h2, .configurator-wrapper .h2 { font-size: 2.2rem; } }
    .configurator-wrapper h3, .configurator-wrapper .h3 { font-size: calc(1.25rem + 0.8vw); margin-bottom: 1.25rem; }
    @media (min-width: 1200px) { .configurator-wrapper h3, .configurator-wrapper .h3 { font-size: 1.9rem; } }

    /* Párrafos y otros textos dentro del configurador */
    .configurator-wrapper p, .configurator-wrapper li, .configurator-wrapper span,
    .configurator-wrapper label, .configurator-wrapper input, .configurator-wrapper textarea,
    .configurator-wrapper select, .configurator-wrapper .form-label, .configurator-wrapper .form-select,
    .configurator-wrapper .form-control {
        font-size: 0.98rem;
        color: var(--brand-secondary); /* Cambio a --brand-secondary para consistencia */
    }
    .configurator-wrapper .lead {
        font-size: 1.15rem;
        font-weight: 400;
        color: var(--brand-secondary);
    }
    .configurator-wrapper .small, .configurator-wrapper small { font-size: 0.88rem; }
    .configurator-wrapper strong, .configurator-wrapper b { font-weight: 600; color: var(--brand-dark); }
    .configurator-wrapper a { color: var(--brand-primary); text-decoration: none; transition: var(--transition-base); }
    .configurator-wrapper a:hover { color: var(--brand-primary-dark); text-decoration: underline; }

    /* --- Estilos Navbar/Footer (COPIADOS DE STARWIN index.html - SIN CAMBIOS) --- */
    /* --- (Se omiten por brevedad, son idénticos a los proporcionados) --- */
    /* --- Fin Estilos Navbar/Footer --- */

    /* --- Estilos Específicos del Configurador (Ajustados) --- */
    .configurator-wrapper {
        background-color: var(--brand-white);
        border-radius: var(--border-radius-base);
        box-shadow: var(--box-shadow-md);
        padding: 2.5rem;
        border: 1px solid var(--brand-extralightgray);
    }
     @media (max-width: 767px) { .configurator-wrapper { padding: 1.5rem; } }
     @media (max-width: 575px) { .configurator-wrapper { padding: 1rem; } }

    .config-section {
        margin-bottom: 2.5rem;
        padding-bottom: 1.5rem;
        border-bottom: 1px solid var(--border-color); /* Cambiado a sólido */
    }
    .config-section:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }

    .config-section-title {
        font-family: var(--font-headings-config); font-size: 1.3rem; font-weight: 700;
        color: var(--brand-primary); /* Usa turquesa Starwin */
        margin-bottom: 1.5rem; padding-bottom: 0.5rem;
        border-bottom: 2px solid var(--brand-primary);
        display: inline-block;
    }
    @media (max-width: 767px) { .config-section-title { font-size: 1.2rem; } }

    /* --- Área de Visualización (Panel Central - Canvas) --- */
    .visualization-panel {
        background-color: var(--brand-lightgray); border-radius: var(--border-radius-sm);
        padding: 1.5rem; border: 1px solid var(--border-color);
        position: sticky; top: 100px; z-index: 10;
    }
     @media (max-width: 991px) { .visualization-panel { position: relative; top: auto; margin-bottom: 2rem; } }

    .window-visualization-container {
        background-color: #fff; border-radius: var(--border-radius-sm); padding: 1rem; margin-bottom: 1.5rem;
        display: flex; justify-content: center; align-items: center;
        min-height: calc(var(--canvas-min-visual-dim, 75px) + 2rem); /* Refuerzo CSS */
        position: relative; overflow: hidden;
        border: 1px solid var(--border-color); box-shadow: 0 2px 5px rgba(0,0,0,0.05) inset;
    }
     @media (max-width: 991px) { .window-visualization-container { min-height: 300px; } }
     @media (max-width: 767px) { .window-visualization-container { min-height: 250px; } }

    #window-canvas-visual {
        display: block; max-width: 100%;
        /* max-height: var(--canvas-max-height); */ /* Dejar que la altura se ajuste por JS */
        max-height: none !important; /* Override any previous max-height */
        min-width: var(--canvas-min-visual-dim, 75px); /* Asegurar tamaño mínimo visual */
        min-height: var(--canvas-min-visual-dim, 75px);/* Asegurar tamaño mínimo visual */
        transition: opacity 0.5s ease; opacity: 1;
        image-rendering: -moz-crisp-edges; /* Firefox */
        image-rendering: -webkit-optimize-contrast; /* Webkit (Chrome, Safari) */
        image-rendering: pixelated; /* Standard */
        image-rendering: crisp-edges; /* Standard */
        background-color: #ffffff; /* Fondo blanco */
        /* width/height set by JS */
    }
    #window-canvas-visual.loading { opacity: 0.5; }
    #window-canvas-visual.error { background-color: #f8d7da; }

    /* --- Opciones de Configuración (Panel Derecho) --- */
    .options-panel .form-label {
        font-weight: 600; color: var(--brand-dark); margin-bottom: 0.6rem;
        display: flex; align-items: center; justify-content: space-between;
        font-size: 0.95rem;
    }
    /* Excluir labels de checkboxes/radios del estilo general flex */
    .options-panel .form-check-label,
    .options-panel .opening-option, /* Label de apertura */
    .options-panel .color-option   /* Label de color */
    {
        display: inline-flex; /* Usar flex para alinear imagen/texto/precio */
    }
    .options-panel .form-control, .options-panel .form-select {
        border-radius: var(--border-radius-sm); border: 1px solid #ced4da; margin-bottom: 1.25rem; font-size: 0.95rem;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out; /* Suavizar transición */
    }
    .options-panel .form-control:focus, .options-panel .form-select:focus {
        border-color: var(--brand-primary); /* Usa turquesa Starwin */
        box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25);
    }
    /* Estilo para inputs inválidos */
    .options-panel .form-control.is-invalid, .options-panel .form-select.is-invalid {
        border-color: #dc3545; /* Bootstrap danger color */
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
        background-repeat: no-repeat;
        background-position: right calc(0.375em + 0.1875rem) center;
        background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
    }
    .options-panel .form-control.is-invalid:focus, .options-panel .form-select.is-invalid:focus {
        border-color: #dc3545;
        box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);
    }

    .option-block { margin-bottom: 1.8rem; }
    .input-group-text { background-color: var(--brand-extralightgray); border: 1px solid var(--border-color); font-size: 0.9rem; color: var(--brand-secondary); }
    .dimension-input-group { margin-bottom: 0.8rem; }
    #pane-widths-container .col { padding-left: 4px; padding-right: 4px; }
    #pane-widths-container .input-group { margin-bottom: 0.5rem; }

    /* --- Precios junto a opciones --- */
    .option-price {
        font-weight: 500;
        color: var(--brand-secondary);
        font-size: 0.85rem; /* Reducir tamaño ligeramente */
        white-space: nowrap; /* Evitar que se parta el precio */
    }
    /* Asegurar que el span de precio dentro de options de select se vea */
    select option .option-price { display: inline; margin-left: 5px; }

    /* --- Estilos para Selección de Color (con Imagen) --- */
    .color-options-container { display: flex; flex-wrap: wrap; gap: 10px; }
    .color-option { /* Label */
        border: 2px solid var(--border-color); border-radius: var(--border-radius-sm);
        padding: 8px; text-align: center; cursor: pointer;
        transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease; /* Añadido background */
        flex: 1 1 90px; /* Aumentar base para imagen */
        max-width: 110px;
        position: relative;
        background-color: #fff; /* Fondo por si la imagen tiene transparencia */
        display: flex; /* Usar flex */
        flex-direction: column; /* Apilar imagen y texto */
        align-items: center; /* Centrar horizontalmente */
        justify-content: space-between; /* Distribuir espacio */
        min-height: 135px; /* Asegurar altura mínima */
    }
    .color-option:hover {
        border-color: var(--brand-secondary);
        background-color: var(--brand-lightgray); /* Ligero fondo al hover */
    }
    .color-option.selected {
        border-color: var(--brand-primary);
        box-shadow: 0 0 0 2px rgba(var(--bs-primary-rgb), 0.3);
        background-color: rgba(var(--bs-primary-rgb), 0.05); /* Fondo muy sutil */
    }
    .color-option img.color-swatch { /* Aplicar a la imagen */
        width: 100%;
        height: 70px; /* Ajustar altura de imagen */
        object-fit: cover; /* Cubrir el área */
        border-radius: 3px;
        margin-bottom: 6px;
        border: 1px solid rgba(0,0,0,0.1);
        display: block; /* Asegurar que sea block */
    }
    .color-name {
        font-size: 0.85rem; display: block; line-height: 1.3; font-weight: 500; color: var(--brand-dark);
        width: 100%; /* Ocupar ancho */
        text-align: center; /* Centrar */
        word-break: break-word; /* Permitir wrap */
        margin-bottom: 3px;
        flex-grow: 1; /* Permitir que crezca si hay espacio */
    }
    .color-option .option-price { /* Precio dentro de color */
        display: block; /* Nueva línea */
        width: 100%;
        text-align: center;
        margin-bottom: 0;
        font-size: 0.75rem; /* Más pequeño */
    }
    .color-option input[type="radio"] { position: absolute; opacity: 0; width: 0; height: 0; }
    @media (max-width: 767px) { .color-option { flex-basis: 80px; min-height: 125px; } .color-option img.color-swatch { height: 60px;} }
    @media (max-width: 575px) { .color-option { flex-basis: calc(50% - 5px); max-width: none; } }

    /* --- Estilos para Opciones de Apertura (MODIFICADO) --- */
    #pane-specific-configs { margin-top: 1.5rem; }
    #pane-specific-configs h4, #pane-specific-configs h6 {
        font-weight: 600; color: var(--brand-dark); /* Hacer los títulos de hoja más oscuros */
        margin-bottom: 1rem;
    }
    .pane-opening-config {
        padding: 1rem; border: 1px solid var(--brand-extralightgray);
        border-radius: var(--border-radius-sm);
        margin-bottom: 1.5rem; background-color: #fff;
        box-shadow: var(--box-shadow-sm); /* Sombra sutil */
    }
    .opening-options-container { display: flex; flex-wrap: wrap; gap: 15px; justify-content: start; }
    .opening-option { /* Label que actúa como botón */
        border: 2px solid var(--border-color); border-radius: var(--border-radius-sm);
        padding: 10px 5px; /* Ajustar padding horizontal para dar espacio al texto */
        text-align: center; cursor: pointer;
        transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, opacity 0.2s ease; /* Añadido opacity */
        flex: 0 0 110px; max-width: 110px; /* Ancho fijo inicial */
        position: relative; background-color: var(--brand-lightgray);
        display: flex; /* Usar flex para control interno */
        flex-direction: column; /* Apilar imagen y texto */
        align-items: center; /* Centrar horizontalmente */
        justify-content: space-between; /* Distribuir espacio */
        min-height: 115px; /* Darle una altura mínima para que quepa bien */
    }
    .opening-option:hover { border-color: var(--brand-secondary); background-color: var(--brand-extralightgray);} /* Más oscuro al hover */
    .opening-option.selected {
        border-color: var(--brand-primary);
        box-shadow: 0 0 0 2px rgba(var(--bs-primary-rgb), 0.35); /* Shadow más notable */
        font-weight: 600; background-color: rgba(var(--bs-primary-rgb), 0.1);
    }
    /* Estilo para opciones deshabilitadas */
    .opening-option.disabled {
        opacity: 0.55; /* Ligeramente más visible que antes */
        cursor: not-allowed;
        background-color: var(--brand-extralightgray);
        border-color: var(--border-color);
        box-shadow: none;
    }
    .opening-option.disabled:hover {
        background-color: var(--brand-extralightgray); /* Evitar cambio de color al hacer hover */
        border-color: var(--border-color);
    }
    .opening-preview-image { width: 50px; height: 50px; object-fit: contain; margin-bottom: 8px; display: block; /* Ya centrado por flex en parent */ }
    .opening-name {
        font-size: 0.85rem;
        display: block;
        margin-bottom: 3px;
        line-height: 1.2;
        color: var(--brand-dark);
        width: 100%; /* Asegurar que ocupe el ancho */
        text-align: center; /* Centrar el texto explícitamente */
        word-break: break-word; /* Mejorar rotura de palabras */
        overflow-wrap: break-word; /* Alternativa para word-break */
        flex-grow: 1; /* Permitir crecer */
    }
     .opening-option .option-price { /* Estilo para precio dentro de apertura */
       font-size: 0.75rem; /* Más pequeño */
       color: var(--text-muted); /* Color consistente con otros precios */
       margin-bottom: 0; /* Remover margen extra del precio */
       display: block;
       width: 100%;
       text-align: center;
    }
    .opening-option input[type="radio"] { position: absolute; opacity: 0; width: 0; height: 0; }
    @media (max-width: 767px) {
        .opening-option {
            flex-basis: 90px; max-width: 90px; /* Reducir un poco */
            padding: 8px 5px;
            min-height: 105px; /* Ajustar altura */
        }
        .opening-preview-image { width: 40px; height: 40px; }
        .opening-name { font-size: 0.8rem; }
        .opening-option .option-price { font-size: 0.7rem; }
    }
    @media (max-width: 575px) {
        .opening-option {
            flex-basis: calc(50% - 8px);
            max-width: none;
        }
    }
    /* --- FIN Estilos para Opciones de Apertura --- */

    /* --- Imágenes de Previsualización de Opciones (Pequeñas - Manilla) --- */
    .option-preview-image { /* Estilo base reutilizable */
        width: 35px; height: 35px; /* Tamaño base */
        border-radius: 4px;
        border: 1px solid var(--border-color); object-fit: contain;
        display: inline-block; vertical-align: middle;
        background-color: #fff; box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        flex-shrink: 0; /* Importante para flex layouts */
        transition: opacity 0.3s ease; /* Suavizar cambio si hay error */
    }
    /* Específico para manilla en select */
    .option-preview-image.handle-preview { margin-left: 10px; }
    .option-preview-image.preview-error {
        opacity: 0.6; background-color: #f8d7da;
        /* Podríamos añadir un icono de error */
        content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23721c24'%3E%3Cpath fill-rule='evenodd' d='M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM6.002 6.002a.75.75 0 0 1 .75-.75h2.496a.75.75 0 0 1 .75.75v4.496a.75.75 0 0 1-.75.75H6.752a.75.75 0 0 1-.75-.75V6.002zm1.75 6.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z'/%3E%3C/svg%3E");
        padding: 5px; /* Espacio para el icono SVG */
        width: 35px; height: 35px;
    }
    .label-with-preview {
        display: flex; align-items: center; justify-content: space-between;
        width: 100%; margin-bottom: 0.6rem;
    }
    .label-with-preview .form-label-text {
        margin-right: auto; font-weight: 600; color: var(--brand-dark);
    }

    /* --- Resumen y Precio --- */
    .summary-panel { margin-top: 1.5rem; }
    .config-summary-box { background-color: var(--brand-white); padding: 1rem 1.25rem; border-radius: var(--border-radius-sm); margin-bottom: 1.5rem; border: 1px solid var(--border-color); box-shadow: var(--box-shadow-sm); font-size: 0.9rem; }
    .config-summary-box strong { font-family: var(--font-headings-config); /* Use Roboto Slab */ color: var(--brand-dark); font-weight: 700; display: block; margin-bottom: 0.75rem; font-size: 1rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; }
    .config-summary-box span { display: block; margin-bottom: 0.4rem; color: var(--brand-secondary); }
    /* Distinguir las etiquetas dentro del resumen */
    .config-summary-box span strong {
        color: var(--brand-dark); font-weight: 600; display: inline; margin-bottom: 0; border-bottom: none; padding-bottom: 0; font-size: inherit; font-family: var(--font-primary); margin-right: 5px; /* Restore font */
    }
    .config-summary-box .text-danger { font-weight: 500; }

    .price-display-box { background-color: var(--brand-dark); padding: 1.25rem 1.5rem; border-radius: var(--border-radius-sm); text-align: center; border: 1px solid #1a1d20; box-shadow: var(--box-shadow-sm); }
    .price-display-box .price-label { font-family: var(--font-headings-config); /* Use Roboto Slab */ font-weight: 700; color: var(--brand-lightgray); font-size: 1.1rem; margin-bottom: 0.3rem; text-transform: uppercase; letter-spacing: 0.5px; }
    .price-display-box .price-amount { font-size: 2.4rem; font-weight: 700; color: #ffffff; margin-bottom: 0.25rem; min-height: 44px; display: inline-block; font-family: var(--font-primary); /* Base font */ }
    .price-display-box small { color: var(--brand-lightgray); opacity: 0.8; font-size: 0.8rem; }
    @media (max-width: 767px) { .price-display-box .price-amount { font-size: 2rem; min-height: 38px;} }
    @media (max-width: 575px) { .price-display-box .price-amount { font-size: 1.8rem; min-height: 34px; } }

    /* --- Botón de Cotización y Accesorios (CON previews de imagen) --- */
    .accessories-section .form-check {
        /* Usar flex para alinear checkbox + label completo */
        display: flex;
        align-items: flex-start; /* Alinear al inicio si el texto es largo */
        padding-left: 0; /* Reset bootstrap padding */
        margin-bottom: 1.2rem; /* Más espacio entre accesorios */
        border: 1px solid transparent; /* Placeholder para posible hover/focus */
        border-radius: var(--border-radius-sm);
        padding: 0.5rem; /* Añadir padding interno */
        transition: background-color 0.2s ease, border-color 0.2s ease;
    }
     .accessories-section .form-check:hover {
         background-color: var(--brand-lightgray);
     }

    .accessories-section .form-check-input {
        flex-shrink: 0; /* No encoger el checkbox */
        margin-top: 0.3em; /* Ajuste vertical fino */
        float: none; /* Override Bootstrap */
        margin-right: 0.7em; /* Espacio entre checkbox y label */
        width: 1.2em; height: 1.2em; /* Tamaño consistente */
        cursor: pointer; /* Hacer el propio checkbox clickable */
    }
    .accessories-section .form-check-label {
        /* Label ahora es el contenedor flex para img, texto, precio */
        display: inline-flex; /* IMPORTANTE: Usar flex */
        align-items: center; /* Centrar verticalmente img, texto, precio */
        gap: 10px; /* Espacio entre img, texto, precio */
        cursor: pointer;
        padding-left: 0; /* Reset bootstrap padding */
        width: calc(100% - 1.2em - 0.7em); /* Ocupar espacio restante */
        flex-wrap: wrap; /* Permitir que el precio baje si no cabe */
    }
    .accessory-preview-image { /* Reutiliza .option-preview-image pero sin margen izquierdo */
        width: 40px; height: 40px; /* Ligeramente más grande */
        border-radius: 4px; border: 1px solid var(--border-color); object-fit: contain;
        background-color: #fff; box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        flex-shrink: 0;
        display: inline-block; /* Necesario dentro de flex */
    }
    .accessory-label-text { /* Span para texto */
        font-weight: 500;
        color: var(--brand-dark);
        flex-grow: 1; /* Ocupar espacio disponible */
        margin-right: auto; /* Empujar precio al final */
        line-height: 1.4; /* Mejorar lectura */
        font-size: 0.95rem; /* Ligeramente más grande */
    }
    .accessories-section .option-price {
        white-space: nowrap; /* Evitar wrap en precio */
        flex-shrink: 0;
        font-size: 0.85rem; /* Ya definido globalmente */
        margin-left: 5px; /* Mantener espacio */
        width: auto; /* Permitir que sea tan ancho como necesite */
        font-weight: 600; /* Hacer el precio un poco más destacado */
        color: var(--brand-primary); /* Usar color primario para el precio */
    }

    .quote-section { margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--border-color); text-align: center; } /* Borde sólido */
    #quote-button .spinner-border { width: 1rem; height: 1rem; border-width: .2em; margin-right: 0.5rem; }
    #pdf-status {
        font-size: 0.9rem;
        font-weight: 500;
        padding: 0.5rem;
        border-radius: var(--border-radius-sm);
        margin-top: 1rem;
        transition: background-color 0.3s ease, color 0.3s ease;
    }
     #pdf-status.text-primary { background-color: rgba(var(--bs-primary-rgb), 0.1); }
     #pdf-status.text-success { background-color: rgba(25, 135, 84, 0.1); color: #146c43 !important; } /* Bootstrap success colors */
     #pdf-status.text-danger { background-color: rgba(220, 53, 69, 0.1); color: #a52834 !important; } /* Bootstrap danger colors */


    /* --- Mensaje Manilla --- */
    #handle-message {
        font-style: italic;
        background-color: var(--brand-extralightgray);
        padding: 0.5rem 0.8rem;
        border-radius: var(--border-radius-sm);
        border: 1px solid var(--border-color);
    }

    /* --- Ajustes Responsivos --- */
    @media (max-width: 575px) {
        #pane-widths-container .col { flex: 0 0 100%; max-width: 100%; padding-left: 0; padding-right: 0; }
        #pane-widths-container .col:not(:last-child) .input-group { margin-bottom: 0.5rem; }
        .color-options-container { gap: 8px; }
        /* .opening-options-container { gap: 10px; } */ /* Ya ajustado arriba */
        .accessories-section .form-check {
            padding: 0.3rem; /* Reducir padding en móvil */
        }
        .accessories-section .form-check-label {
            gap: 5px 8px; /* Ajustar gaps */
            width: calc(100% - 1.2em - 0.7em); /* Recalcular ancho */
        }
        .accessory-preview-image {
             width: 35px; height: 35px; /* Volver al tamaño original en móvil */
        }
        .accessories-section .accessory-label-text {
            /* Ocupar casi todo el ancho menos la imagen */
            width: calc(100% - 40px - 8px); /* Ajustar cálculo con imagen más pequeña */
            margin-right: 0;
            font-size: 0.9rem;
        }
         .accessories-section .option-price {
             /* Poner el precio en su propia línea, indentado */
             width: 100%;
             text-align: right; /* Alinear a la derecha */
             margin-left: calc(40px + 8px); /* Indentar para alinear bajo el texto */
             white-space: normal; /* Permitir wrap si es muy largo */
             margin-top: 3px; /* Pequeño espacio superior */
             font-size: 0.8rem;
         }
    }

    /* Utilidad Highlight Beta (de Starwin) */
    .beta-highlight {
        color: var(--brand-primary); /* Turquesa */
        font-weight: bold;
        font-size: 0.9em;
        vertical-align: super;
        margin-left: 2px;
    }

    /* --- Estilos Navbar/Footer (COPIADOS DE STARWIN index.html - SIN CAMBIOS) --- */
    /* --- (Se omiten por brevedad, son idénticos a los proporcionados) --- */
    .btn { padding: 0.85rem 1.9rem; font-weight: 500; font-family: var(--font-family-headings); transition: var(--transition-base); border-radius: var(--border-radius-sm); text-transform: none; border: 1px solid transparent; box-shadow: var(--box-shadow-sm); font-size: 1.02rem; letter-spacing: 0.3px; }
    .btn:hover { transform: translateY(-3px); box-shadow: var(--box-shadow-md); }
    .btn:focus, .btn.focus { outline: 0; box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.3); }
    .btn:active, .btn.active { transform: translateY(-1px); box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); }
    .btn-lg { padding: 1.05rem 2.5rem; font-size: 1.15rem; }
    .btn-sm { padding: 0.65rem 1.4rem; font-size: 0.92rem; }
    .btn-brand-primary { background-color: var(--brand-primary); border-color: var(--brand-primary); color: var(--brand-white); }
    .btn-brand-primary:hover, .btn-brand-primary:focus { background-color: var(--brand-primary-dark); border-color: var(--brand-primary-dark); color: var(--brand-white); }
    .btn-brand-primary:focus { box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.5); }
    .btn-brand-accent { background-color: var(--brand-accent); border-color: var(--brand-accent); color: var(--brand-white); }
    .btn-brand-accent:hover, .btn-brand-accent:focus { background-color: var(--brand-accent-dark); border-color: var(--brand-accent-dark); color: var(--brand-white); }
    .btn-brand-accent:focus { box-shadow: 0 0 0 0.25rem rgba(253, 126, 20, 0.5); }
    .btn-outline-dark { color: var(--brand-dark); border-color: var(--brand-dark); background-color: transparent; }
     .btn-outline-dark:hover, .btn-outline-dark:focus { background-color: var(--brand-dark); border-color: var(--brand-dark); color: var(--brand-white); }
     .btn-outline-dark:focus { box-shadow: 0 0 0 0.25rem rgba(var(--bs-dark-rgb), 0.5); }
    .btn-light { background-color: rgba(255, 255, 255, 0.95); border-color: rgba(255, 255, 255, 0.95); color: var(--brand-dark); }
    .btn-light:hover, .btn-light:focus { background-color: var(--brand-white); border-color: var(--brand-white); color: var(--brand-primary); }
    /* --- Header / Navbar --- */
    .navbar { transition: background-color 0.3s ease, box-shadow 0.3s ease; padding-top: 0.7rem; background-color: var(--brand-navbar-bg); border-bottom: 1px solid var(--brand-extralightgray); }
    .navbar-sticky { box-shadow: var(--box-shadow-md); }
    .navbar-brand { font-weight: 700; font-size: 1.8rem; color: var(--brand-dark) !important; padding-top: 0; padding-bottom: 0; }
     .navbar-brand img { max-height: 48px; width: auto; vertical-align: middle; margin-bottom: 4px; }
    .navbar .nav-link { color: var(--brand-dark); font-weight: 500; font-family: var(--font-family-sans-serif); padding: 0.7rem 1rem; position: relative; transition: color 0.3s ease; text-decoration: none; font-size: 1rem; margin: 0 0.3rem; border-radius: var(--border-radius-sm); }
    .navbar .nav-link:hover, .navbar .nav-link:focus { color: var(--brand-primary); background-color: rgba(var(--bs-primary-rgb), 0.08); text-decoration: none; }
    .navbar .nav-link.active { color: var(--brand-primary); font-weight: 600; background-color: rgba(var(--bs-primary-rgb), 0.12); }
     .navbar .nav-link::after { display: none; }
    .navbar .dropdown-indicator { display: inline-block; transition: transform 0.2s ease-in-out; font-size: 0.8em; vertical-align: middle; opacity: 0.7; }
    .navbar .dropdown-toggle.show .dropdown-indicator { transform: rotate(180deg); }
    .navbar .dropdown-menu { border-radius: var(--border-radius-sm); border: 1px solid var(--brand-extralightgray); box-shadow: var(--box-shadow-md); margin-top: 0.3rem; padding-top: 0.5rem; padding-bottom: 0.5rem; transition: opacity 0.2s ease, visibility 0.2s ease, margin-top 0.2s ease; }
    .navbar .dropdown-menu.show { margin-top: 0.5rem; }
    .navbar .dropdown-item { font-size: 0.98rem; padding: 0.55rem 1.2rem; color: var(--brand-dark); transition: background-color 0.2s ease, color 0.2s ease; font-family: var(--font-family-sans-serif); }
     .navbar .dropdown-item:hover, .navbar .dropdown-item:focus { background-color: var(--brand-lightgray); color: var(--brand-primary); }
     .navbar .dropdown-item.active, .navbar .dropdown-item:active { background-color: var(--brand-primary); color: var(--brand-white); }
    .navbar-toggler { border: none; padding: 0.6rem; }
    .navbar-toggler:focus { box-shadow: none; }
    .navbar-toggler-icon { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(0, 0, 0, 0.8)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2.5' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e"); }
    .navbar .btn-cta { padding: 0.65rem 1.5rem; font-size: 0.98rem; }
    @media (min-width: 100px) and (max-width: 1400px) {
        .navbar-brand img { max-height: 33px; width: auto; vertical-align: middle; margin-bottom: 4px; }

    }

    @media (max-width: 991.98px) {
        .navbar-brand img { max-height: 28px; width: auto; vertical-align: middle; margin-bottom: 4px; }
      .navbar-collapse { margin-top: 1rem; border-top: 1px solid var(--brand-extralightgray); padding-top: 1rem; background-color: var(--brand-navbar-bg); max-height: 75vh; overflow-y: auto; }
      .navbar .navbar-nav { align-items: stretch; }
      .navbar .nav-item { margin-bottom: 0.5rem; width: 100%; }
      .navbar .nav-link { padding: 0.8rem 1rem; display: block; text-align: center; }
      .navbar .nav-item.dropdown .dropdown-toggle { display: flex; justify-content: center; align-items: center; }
      .navbar .nav-item.dropdown .dropdown-indicator { margin-left: 8px; }
      .navbar .dropdown-menu { box-shadow: none; border: none; margin-top: 0 !important; padding-left: 1.5rem; background-color: var(--brand-extralightgray); position: static !important; float: none !important; width: auto !important; text-align: center; }
      .navbar .dropdown-item { padding: 0.65rem 1rem; text-align: center; }
      .navbar .btn-cta { width: 100%; text-align: center; margin-top: 1rem; padding: 0.85rem 1.5rem; }
    }

    
@media(min-width: 992) {.navbar .nav-link{font-size: 0.9em;}}
    @media(max-width: 1400px){.navbar .nav-link {font-size: 0.9rem;}
}

    @media(min-width: 992) {.navbar .navbar .btn-cta {font-size: 0.9em;}}
    @media(max-width: 1400px){.navbar .navbar .btn-cta {font-size: 0.9rem;}
}


    /* --- Footer (Sin cambios, heredado de index) --- */
    footer#contacto { background-color: var(--brand-dark); color: var(--brand-lightgray); padding-top: var(--section-padding-y); padding-bottom: 2rem; font-size: 0.98rem; }
    footer#contacto h5 { font-size: 1.2rem; font-weight: 600; font-family: var(--font-family-headings); color: var(--brand-white); margin-bottom: 1.5rem; text-transform: uppercase; letter-spacing: 0.8px; }
    footer#contacto a { color: var(--brand-lightgray); text-decoration: none; transition: color 0.2s ease; }
    footer#contacto a:hover { color: var(--brand-primary); text-decoration: none; }
    footer#contacto .footer-links li { margin-bottom: 0.75rem; }
    footer#contacto .footer-links a:hover { text-decoration: underline; }
    footer#contacto .contact-info li { display: flex; align-items: flex-start; margin-bottom: 0.9rem; }
    footer#contacto .contact-info i { color: var(--brand-primary); margin-right: 1rem; margin-top: 4px; width: 1.2em; text-align: center; flex-shrink: 0; font-size: 1.1em; }
    footer#contacto address { font-style: normal; line-height: 1.6; }
    footer#contacto .social-icons a { color: var(--brand-lightgray); font-size: 1.5rem; margin: 0 0.6rem; transition: color 0.2s ease, transform 0.2s ease; display: inline-block; }
    footer#contacto .social-icons a:hover { color: var(--brand-primary); transform: scale(1.15) translateY(-2px); }
    footer#contacto .footer-bottom { border-top: 1px solid rgba(255, 255, 255, 0.15); padding-top: 1.8rem; margin-top: 3.5rem; }
    footer#contacto .copyright { font-size: 0.92rem; color: var(--brand-secondary); }
</style>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSNCP6Z2"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<!-- ============================================ -->
<!--   HEADER / NAVBAR (COPIADO DE index.html)    -->
<!-- ============================================ -->
<header class="sticky-top shadow-sm">
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="index.html" title="Inicio - Starwin Chile">
                <img src="logostarwin.png" alt="Starwin Logo" > <!-- No se agrega loading="lazy" aquí por ser above-the-fold y crítico -->
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-lg-center">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Inicio</a> <!-- Link a index -->
                    </li>
                    <li class="nav-item dropdown">
                         <!-- Añadir al toggle si estamos en una página del dropdown -->
                        <a class="nav-link dropdown-toggle " href="#" id="navbarDropdownProductos" role="button" aria-expanded="false">
                            Nuestras Ventanas
                            <span class="dropdown-indicator ms-1"><i class="fas fa-chevron-down fa-xs"></i></span>
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownProductos">
                            <!-- Marcar este item como activo -->
                            <li><a class="dropdown-item " aria-current="page" href="productos.html">Catálogo de Productos</a></li>
                            <li><a class="dropdown-item" href="colores.html">Colores y Acabados</a></li>
                            <li><a class="dropdown-item" href="detalles-tecnicos.html">Detalles Técnicos</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="beneficios.html">¿Porque Elegirnos?</a></li>
                            
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="nosotros.html">¿Quienes somos?</a>
                    </li>
                     <li class="nav-item">
                        <a class="nav-link" href="proceso.html">Proceso</a>
                    </li>
                    <li class="nav-item">
                        <!-- Enlace "Blog" activo porque estamos en una página de blog individual -->
                        <a class="nav-link" href="blogs.html">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contacto.html">Contacto</a>
                    </li>
                    <li class="nav-item  ms-lg-3 mt-3 mt-lg-0">
                        <a href="configurador.html" class="btn btn-brand-accent btn-cta shadow-sm">Cotizar Online</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<main>
    <div class="container">
         <!-- Título de la página del Configurador -->
        <div class="text-center mb-5">
             <h1 class="fw-bold">Cotizador Online de Ventanas PVC</h1>
             <p class="lead text-muted">Diseña tu ventana de pvc ideal paso a paso y obtén una cotización estimada al instante.</p> <!-- Text color muted -->
             <p class="small text-muted">(Precios y opciones sujetos a confirmación final)</p>
        </div>

        <!-- El wrapper del configurador -->
        <div class="configurator-wrapper">
            <div class="row g-4 g-lg-5">

                <!-- Columna Central: Visualización y Resumen -->
                <div class="col-lg-6 order-lg-2">
                    <div class="visualization-panel">
                         <h3 class="config-section-title">Visualización</h3>
                         <div class="window-visualization-container mb-3">
                             <canvas id="window-canvas-visual" width="400" height="300"> <!-- Width/height act as initial ratio -->
                                 Tu navegador no soporta el elemento Canvas. La visualización no está disponible.
                             </canvas>
                         </div>
                         <!-- Mensaje para manilla fija -->
                         <div id="handle-message" class="text-muted small mt-2 mb-3 text-center" style="display: none;">
                             <i class="fas fa-info-circle me-1"></i> Las hojas fijas no requieren manilla.
                         </div>
                         <div class="summary-panel">
                             <div class="config-summary-box mb-3" id="config-summary">
                                 <strong>Resumen de Configuración:</strong>
                                 <span>Cargando detalles...</span>
                             </div>
                             <div class="price-display-box">
                                <div class="price-label">Precio Estimado</div>
                                <div class="price-amount" id="total-price">$0 CLP</div>
                                <small class="d-block mt-1">Costo de instalación no incluido.</small>
                             </div>
                         </div>
                    </div>
                </div>

                <!-- Columna Izquierda/Derecha: Opciones -->
                <div class="col-lg-6 order-lg-1 options-panel">
                    <div class="config-section">
                         <h3 class="config-section-title">1. Estructura y Dimensiones</h3>

                         <div class="option-block">
                             <label for="window-type" class="form-label">Número de Hojas:</label>
                             <select class="form-select" id="window-type">
                                 <option value="1" selected>1 Hoja</option>
                                 <option value="2">2 Hojas</option>
                                 <option value="3">3 Hojas</option>
                             </select>
                         </div>

                         <div class="option-block">
                             <label class="form-label">Dimensiones (mm):</label>
                             <div class="input-group dimension-input-group">
                                 <span class="input-group-text" style="width: 70px;">Alto</span>
                                 <input type="number" class="form-control dimension-input" id="window-height" value="1000" step="10" min="500" max="2800" aria-label="Alto total en mm" required> <!-- Max Height ajustado -->
                                 <span class="input-group-text">mm</span>
                             </div>

                             <div id="total-width-container" class="input-group dimension-input-group">
                                 <span class="input-group-text" style="width: 70px;">Ancho</span>
                                 <input type="number" class="form-control dimension-input" id="window-width-total" value="1000" step="10" min="400" max="1600" aria-label="Ancho total en mm" required> <!-- Max Width ajustado para 1 hoja -->
                                 <span class="input-group-text">mm</span>
                             </div>

                             <label id="pane-widths-label" class="form-label mt-3" style="display: none;">Ancho por Hoja (mm):</label>
                             <div id="pane-widths-container" class="row gx-2" style="display: none;">
                                 <!-- Inputs generados por JS -->
                             </div>
                             <div id="pane-width-validation-message" class="text-danger small mt-2" style="display: none;"></div>
                         </div>

                         <div id="pane-specific-configs" class="option-block mt-4">
                              <!-- Opciones de apertura generadas por JS aquí -->
                         </div>
                    </div>

                    <div class="config-section">
                         <h3 class="config-section-title">2. Apariencia y Vidrio</h3>

                         <div class="option-block">
                             <label class="form-label mb-3">Color del Marco:</label>
                             <div class="color-options-container" id="frame-color-options">
                                 <!-- Opciones de Color con imágenes y estructura correcta -->
                                 <label class="color-option selected" data-color-value="white">
                                     <input type="radio" name="frame-color-radio" id="frame-color-white" value="white" checked>
                                     <img src="white.jpg" alt="Color Blanco" class="color-swatch">
                                     <span class="color-name">Blanco</span>
                                     <span class="option-price text-muted small d-block"></span>
                                 </label>
                                 <label class="color-option" data-color-value="anthracite">
                                     <input type="radio" name="frame-color-radio" id="frame-color-anthracite" value="anthracite">
                                     <img src="slate_grey.jpg" alt="Color Grafito" class="color-swatch">
                                     <span class="color-name">Grafito</span>
                                     <span class="option-price text-muted small d-block"></span>
                                 </label>
                                 <label class="color-option" data-color-value="golden-oak">
                                     <input type="radio" name="frame-color-radio" id="frame-color-golden-oak" value="golden-oak">
                                     <img src="golden-oak.jpg" alt="Color Roble Dorado" class="color-swatch">
                                     <span class="color-name">Roble Dorado</span>
                                     <span class="option-price text-muted small d-block"></span>
                                 </label>
                                  <label class="color-option" data-color-value="walnut">
                                     <input type="radio" name="frame-color-radio" id="frame-color-walnut" value="walnut">
                                     <img src="rosewood.jpg" alt="Color Nogal" class="color-swatch">
                                     <span class="color-name">Nogal</span>
                                     <span class="option-price text-muted small d-block"></span>
                                 </label>
                                  <label class="color-option" data-color-value="crema">
                                     <input type="radio" name="frame-color-radio" id="frame-color-crema" value="crema">
                                     <img src="crema.jpg" alt="Color Crema" class="color-swatch">
                                     <span class="color-name">Crema</span>
                                     <span class="option-price text-muted small d-block"></span>
                                 </label>
                                 <label class="color-option" data-color-value="black">
                                     <input type="radio" name="frame-color-radio" id="frame-color-black" value="black">
                                     <img src="black_ash.jpg" alt="Color New Black" class="color-swatch">
                                     <span class="color-name">New Black</span>
                                     <span class="option-price text-muted small d-block"></span>
                                 </label>
                             </div>
                         </div>

                         <div class="option-block">
                             <label for="handle-color" class="label-with-preview">
                                 <span class="form-label-text">Color de Manilla(s):</span>
                                 <img id="handle-color-preview" src="" alt="Preview Color Manilla" class="option-preview-image handle-preview preview-error"> <!-- Start with error class until loaded -->
                             </label>
                             <select class="form-select" id="handle-color">
                                 <!-- Opciones de manilla con data-preview-src actualizado -->
                                 <option value="white" data-preview-src="window-handle-white.png" selected>Blanco <span class="option-price text-muted small ms-1"></span></option>
                                 <option value="black" data-preview-src="window-handle-black.png">Negro <span class="option-price text-muted small ms-1"></span></option>
                                 <option value="brushed" data-preview-src="window-handle-brushed.png">Acero Cepillado <span class="option-price text-muted small ms-1"></span></option>
                                 <option value="smoked" data-preview-src="window-handle-smoked.png">Grafito (Smoked) <span class="option-price text-muted small ms-1"></span></option>
                                 <option value="gold" data-preview-src="window-handle-gold.png">Dorado <span class="option-price text-muted small ms-1"></span></option>
                             </select>
                              <!-- Mensaje de precio fijo manilla -->
                             <small class="text-muted d-block mt-2">Nota: Todas las manillas tienen un costo fijo de <span id="handle-fixed-price-info"></span> CLP por unidad (hoja operable).</small>
                         </div>

                         <div class="option-block">
                             <label for="glass-type" class="form-label label-with-preview">
                                 <span class="form-label-text">Tipo de Vidrio:</span>
                             </label>
                             <select class="form-select" id="glass-type">
                                 <!-- Textos de opción actualizados con descripciones y precios base -->
                                 <option value="double" data-preview-src="" title="Doble vidrio con cámara de aire. Aislamiento estándar. (Precio Base Vidrio: +32.000 CLP/m²)" selected>Doble (Termopanel Est.) <span class="option-price text-muted small ms-1"></span></option>
                                 <option value="double-low-e" data-preview-src="" title="Termopanel con capa baja emisividad. Reduce transferencia calor. (Total Vidrio: +42.000 CLP/m²)">Doble Low-E <span class="option-price text-muted small ms-1"></span></option>
                                 <option value="triple" data-preview-src="" title="Triple vidrio con dos cámaras. Máximo aislamiento térmico. (Total Vidrio: +58.000 CLP/m²)">Triple (Termopanel Est.) <span class="option-price text-muted small ms-1"></span></option>
                                 <option value="triple-low-e" data-preview-src="" title="Termopanel triple con capa Low-E. Rendimiento superior. (Total Vidrio: +75.000 CLP/m²)">Triple Low-E <span class="option-price text-muted small ms-1"></span></option>
                                 <option value="laminated" data-preview-src="" title="Vidrio con interlámina plástica. Mayor seguridad y filtro UV. (Total Vidrio: +50.000 CLP/m²)">Laminado (Seguridad) <span class="option-price text-muted small ms-1"></span></option>
                             </select>
                         </div>
                    </div>

                    <!-- ========= SECCIÓN ACCESORIOS ACTUALIZADA ========= -->
                    <div class="config-section accessories-section">
                         <h3 class="config-section-title">3. Accesorios Adicionales</h3>

                         <div class="form-check">
                             <input class="form-check-input accessory-input" type="checkbox" value="glazing-bars" id="glazing-bars">
                             <label class="form-check-label" for="glazing-bars" title="Perfiles decorativos aplicados sobre el vidrio para crear divisiones visuales (cuarterones).">
                                 <img src="images/windows/previews/barrotillos.png" alt="Preview Barrotillos Decorativos" class="accessory-preview-image option-preview-image">
                                 <span class="accessory-label-text">Barrotillos Decorativos</span>
                                 <span class="option-price text-muted small ms-1"></span> <!-- Precio dinámico -->
                             </label>
                         </div>

                         <div class="form-check">
                             <input class="form-check-input accessory-input" type="checkbox" value="security-lock" id="security-lock">
                             <label class="form-check-label" for="security-lock" title="Para un hogar seguro, recomendamos los herrajes RC en todas las ventanas y puertas. RC1 ofrece puntos de cierre adicionales además de la seguridad básica.">
                                 <img src="images/windows/previews/cierre.png" alt="Preview Cierre Seguridad Mejorado" class="accessory-preview-image option-preview-image">
                                 <span class="accessory-label-text">Cierre Seguridad Mejorado</span>
                                 <span class="option-price text-muted small ms-1"></span> <!-- Precio dinámico -->
                             </label>
                         </div>

                         <div class="form-check">
                             <input class="form-check-input accessory-input" type="checkbox" value="exterior-sill" id="exterior-sill">
                             <label class="form-check-label" for="exterior-sill" title="Perfil inferior exterior diseñado para evacuar el agua de lluvia lejos de la base de la ventana y la pared de 140mm.">
                                 <img src="images/windows/previews/vierteaguas.png" alt="Preview Vierteaguas Exterior" class="accessory-preview-image option-preview-image">
                                 <span class="accessory-label-text">Vierteaguas Exterior</span>
                                 <span class="option-price text-muted small ms-1"></span> <!-- Precio dinámico -->
                             </label>
                         </div>
                    </div>
                    <!-- ========= FIN SECCIÓN ACCESORIOS ACTUALIZADA ========= -->

                     <div class="config-section quote-section" id="quote-section">
                         <h3 class="config-section-title">4. Solicitar Cotización</h3>
                         <p class="text-muted mb-4">Revisa la configuración y el precio estimado. Haz clic abajo para generar un resumen PDF.</p>
                         <button class="btn btn-brand-accent btn-lg w-100 shadow-sm" id="quote-button" type="button" disabled>
                             <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none;"></span>
                             <span class="button-text">Generar Cotización PDF</span>
                         </button>
                          <p class="small text-muted mt-3">Al generar el PDF, contactanos para confirmar detalles y plazos.</p>
                          <div id="pdf-status" class="mt-3 small" style="min-height: 20px;"></div>
                     </div>
                </div>

            </div> <!-- / .row -->
        </div> <!-- / .configurator-wrapper -->
    </div> <!-- / .container -->
</main>

<!-- ============================================ -->
<!--        FOOTER (COPIADO DE index.html)        -->
<!-- ============================================ -->
<footer id="contacto">
    <div class="container">
        <div class="row gy-4 gy-lg-5">
            <!-- Columna Logo y Descripción -->
            <div class="col-lg-4 col-md-12 text-center text-lg-start mb-4 mb-lg-0">
                <a href="index.html" title="Inicio - Starwin Chile" class="d-inline-block mb-3">
                     <img src="logostarwin.png" alt="Starwin Chile Logo Footer Blanco" style="max-height: 50px; filter: brightness(0) invert(1);" width="auto" height="50"> <!-- No se agrega loading="lazy" aquí -->
                 </a>
                <p class="small text-light-muted pe-lg-3 mt-2">Expertos en ventanas y puertas PVC de alta eficiencia. Diseño, fabricación e instalación de ventanas de PVC en Concepción y Región del Biobío.</p>
                <div class="social-icons mt-4 justify-content-center justify-content-lg-start">
                    <a href="https://www.facebook.com/Starwinchile/" title="Facebook Starwin" target="_blank" rel="noopener noreferrer" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/starwincl/" title="Instagram Starwin" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="https://wa.me/56966003771" title="WhatsApp Starwin" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                 </div>
            </div>
            <!-- Columna Navegación -->
            <div class="col-lg-2 col-md-4 col-6 text-center text-lg-start">
                <h5 class="mb-4">Navegación</h5>
                <ul class="list-unstyled small footer-links">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="productos.html">Catálogo</a></li>
                    <li><a href="proceso.html">Proceso</a></li>
                     <li><a href="beneficios.html">Beneficios</a></li>
                     <li><a href="blogs.html">Blog</a></li>
                     <li><a href="configurador.html">Cotizar</a></li>
                     <li><a href="contacto.html" target="_blank" rel="noopener noreferrer">Contacto</a></li>
                </ul>
            </div>
            <!-- Columna Información -->
             <div class="col-lg-3 col-md-4 col-6 text-center text-lg-start">
                <h5 class="mb-4">Información</h5>
                <ul class="list-unstyled small footer-links">
                    <li><a href="faq.html">Preguntas Frecuentes</a></li>
                    <li><a href="garantia.html">Garantía</a></li>
                    <li><a href="politica-privacidad.html">Política de Privacidad</a></li>
                    <li><a href="terminos-condiciones.html">Términos y Condiciones</a></li>
                </ul>
            </div>
            <!-- Columna Contacto -->
            <div class="col-lg-3 col-md-4 col-12 text-center text-lg-start">
                 <h5 class="mb-4">Contáctanos</h5>
                 <ul class="list-unstyled small contact-info">
                     <li><i class="fas fa-map-marker-alt fa-fw"></i><address class="mb-0 d-inline">Pedro de Valdivia 733,<br class="d-none d-lg-block"> Concepción, Biobío</address></li>
                     <li><i class="fas fa-phone fa-fw"></i><a href="tel:+56966003771">+56 9 6600 3771</a></li>
                      <li><i class="fab fa-whatsapp fa-fw"></i><a href="https://wa.me/56966003771" target="_blank" rel="noopener noreferrer">WhatsApp Directo</a></li>
                     <li><i class="fas fa-envelope fa-fw"></i><a href="mailto:starwinchile@gmail.com">starwinchile@gmail.com</a></li>
                     <li><i class="fas fa-clock fa-fw"></i><span>Lun - Vie: 9:00 - 18:30 hrs</span></li>
                 </ul>
            </div>
        </div>
        <div class="footer-bottom text-center">
            <p class="small copyright mb-0">© <span id="current-year"></span> Starwin Chile - Ventanas PVC. Todos los derechos reservados.</p>
        </div>
    </div>
</footer>

<!-- Hidden image for PDF generation REMOVED - Base64 used in JS -->

<!-- ============================================ -->
<!--                   SCRIPTS                    -->
<!-- ============================================ -->
<!-- jQuery (Requerido por el script de Starwin Navbar/Dropdowns) -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<!-- Bootstrap Bundle JS (Incluye Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<!-- Configurador JS (Actualizado) + Lógica Navbar/Footer (Starwin) -->
<script>
    // ========================================================================
    // === ¡¡¡ IMPORTANTE: PEGA AQUÍ LA CADENA BASE64 DE TU LOGO !!! ===
    // ========================================================================
    // Reemplaza la cadena COMPLETA que empieza con 'data:image/png;base64, ...'
    // con la cadena Base64 REAL de tu archivo 'logostarwin.png'.
    // Puedes obtenerla usando un convertidor online (busca "image to base64 converter").
    // Si no pones la cadena correcta, el logo NO aparecerá en el PDF.
    // Ejemplo de cómo debería empezar: data:image/png;base64,iVBORw0KG... (cadena muy larga)
    // ========================================================================
    const logoBase64Data = 'data:image/png;base64,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'; // (muy largo)
    // ========================================================================


    document.addEventListener('DOMContentLoaded', function() {
        console.log("--- DOM Cargado. Iniciando Configurador Starwin (v4.1 - Límites Visuales Canvas) ---");

       // --- Navbar Dropdown Mejorado (Se mantiene igual) ---
        function setupNavbarDropdowns() {
            let hoverTimerEnter;
            let hoverTimerLeave;
            const enterDelay = 200;
            const leaveDelay = 1000;

            $('.navbar .nav-item.dropdown').off('mouseenter mouseleave click');
            $('.navbar .dropdown-toggle').off('click');

            if (window.innerWidth >= 992) {
                $('.navbar .nav-item.dropdown').each(function() {
                    const $dropdown = $(this);
                    const $toggle = $dropdown.find('.dropdown-toggle');
                    const $menu = $dropdown.find('.dropdown-menu');
                    let menuInstance = bootstrap.Dropdown.getOrCreateInstance($toggle[0]);
                    let isOpenByClick = false;

                    $toggle.on('click', function(e) {
                        e.preventDefault(); e.stopPropagation();
                        clearTimeout(hoverTimerEnter); clearTimeout(hoverTimerLeave);
                        if ($menu.hasClass('show')) { menuInstance.hide(); isOpenByClick = false; }
                        else {
                            $('.navbar .nav-item.dropdown .dropdown-menu.show').each(function() {
                                bootstrap.Dropdown.getOrCreateInstance($(this).prev('.dropdown-toggle')[0]).hide();
                            });
                            menuInstance.show(); isOpenByClick = true;
                        }
                    });
                    $dropdown.on('mouseenter', function() {
                        if (isOpenByClick) return;
                        clearTimeout(hoverTimerLeave);
                        hoverTimerEnter = setTimeout(() => {
                             $('.navbar .nav-item.dropdown .dropdown-menu.show').not($menu).each(function() {
                                bootstrap.Dropdown.getOrCreateInstance($(this).prev('.dropdown-toggle')[0]).hide();
                             });
                            if (!$menu.hasClass('show')) { menuInstance.show(); }
                        }, enterDelay);
                    });
                    $dropdown.on('mouseleave', function() {
                        clearTimeout(hoverTimerEnter);
                        hoverTimerLeave = setTimeout(() => {
                            if ($menu.hasClass('show')) { menuInstance.hide(); isOpenByClick = false; }
                        }, leaveDelay);
                    });
                    $menu.find('.dropdown-item').on('click', function() {
                        menuInstance.hide(); isOpenByClick = false;
                    });
                });
                $(document).on('click', function(e) {
                    if (!$(e.target).closest('.navbar .nav-item.dropdown').length) {
                        $('.navbar .nav-item.dropdown .dropdown-menu.show').each(function() {
                           bootstrap.Dropdown.getOrCreateInstance($(this).prev('.dropdown-toggle')[0]).hide();
                        });
                    }
                });
            } else {
                $('.navbar .dropdown-toggle').attr('data-bs-toggle', 'dropdown');
                $('.navbar .dropdown-item').on('click', function() {
                    const $navbarCollapse = $(this).closest('.navbar-collapse');
                    if ($navbarCollapse.hasClass('show')) { bootstrap.Collapse.getOrCreateInstance($navbarCollapse[0]).hide(); }
                    const $dropdownMenu = $(this).closest('.dropdown-menu');
                    if ($dropdownMenu.hasClass('show')) {
                        const $toggle = $dropdownMenu.prev('.dropdown-toggle');
                        bootstrap.Dropdown.getOrCreateInstance($toggle[0]).hide();
                    }
                });
            }
        }
        setupNavbarDropdowns();
        $(window).on('resize', setupNavbarDropdowns);

        // --- Funcionalidad Menú Móvil (Se mantiene igual) ---
        const mobileMenu = document.getElementById('navbarNav');
        if (mobileMenu) {
            const mobileLinks = mobileMenu.querySelectorAll('a.nav-link:not(.dropdown-toggle)');
            const bsCollapse = bootstrap.Collapse.getOrCreateInstance(mobileMenu, { toggle: false });
            mobileLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    const href = link.getAttribute('href');
                     // Cierra si es link interno A OTRA PÁGINA o link interno A ESTA PÁGINA
                     if (href && window.innerWidth < 992 && mobileMenu.classList.contains('show')) {
                          if (!href.startsWith('#') || (href.startsWith('#') && window.location.pathname.endsWith('productos.html'))) {
                             bsCollapse.hide();
                          }
                     }
                });
            });
            document.addEventListener('click', function (event) {
                const isClickInsideNav = mobileMenu.contains(event.target);
                const navbarToggler = document.querySelector('.navbar-toggler');
                const isToggler = navbarToggler ? navbarToggler.contains(event.target) : false;
                const isNavOpen = mobileMenu.classList.contains('show');
                if (!isClickInsideNav && !isToggler && isNavOpen && window.innerWidth < 992) {
                    bsCollapse.hide();
                }
            });
        }

        // --- Actualizar Año del Footer (Se mantiene igual) ---
        const yearSpan = document.getElementById('current-year');
        if (yearSpan) { yearSpan.textContent = new Date().getFullYear(); }


        // --- LÓGICA DEL CONFIGURADOR (Actualizada v4.1) ---
        console.log("--- Iniciando Lógica del Configurador Starwin v4.1 ---");

        // --- Constantes y Configuración Detallada ---
        const CONFIG = {
            // Precios Base
            PROFILE_PRICE_PER_M2_WHITE: 130000,
            PROFILE_PRICE_PER_M2_OTHER: 155000,
            GLASS_BASE_PRICE_PER_M2: 32000,
            MULLION_PRICE_PER_M2: 5000,
            HANDLE_FLAT_PRICE: 6590,

            // Detalles de Apertura
            OPENING_TYPE_DETAILS: {
                'fixed': { name: 'Fijo', price: 0, preview: 'images/windows/previews/fija.png', description: 'Ventana que no se abre.' },
                'proyectante': { name: 'Proyectante', price: 25000, preview: 'images/windows/previews/proyectante.png', description: 'Apertura inferior hacia afuera (+25.000 CLP).' },
                'casement': { name: 'Abatible', price: 25000, preview: 'images/windows/previews/abatible.png', description: 'Apertura lateral completa (+25.000 CLP).' },
                'tilt-turn': { name: 'Oscilobatiente', price: 35000, preview: 'images/windows/previews/oscilo-batiente.png', description: 'Doble apertura: lateral y proyectante (+35.000 CLP).' },
                'sliding': { name: 'Corrediza', pricePerM2: 30000, price: 0, preview: 'images/windows/previews/corrediza.png', description: 'Deslizamiento horizontal de hojas (+30.000 CLP/m²).'}
            },
            SLIDING_RESTRICTED_TYPES: ['proyectante', 'casement', 'tilt-turn'],

             // Nombres e Imágenes de Color
             FRAME_COLOR_NAMES: { 'white': 'Blanco', 'anthracite': 'Grafito', 'golden-oak': 'Roble Dorado', 'walnut': 'Nogal', 'crema': 'Crema', 'black': 'New Black' },
             FRAME_COLOR_IMAGES: { 'white': 'white.jpg', 'anthracite': 'slate_grey.jpg', 'golden-oak': 'golden-oak.jpg', 'walnut': 'rosewood.jpg', 'crema': 'crema.jpg', 'black': 'black_ash.jpg' },

            // Precios Adicionales Vidrio
            GLASS_TYPE_PRICE_ADDITIONAL_PER_M2: {
                'double':       { name: 'Doble (Termopanel Est.)', price: 0, total: 32000, description: 'Doble vidrio con cámara de aire. Aislamiento estándar.' },
                'double-low-e': { name: 'Doble Low-E',             price: 10000, total: 42000, description: 'Termopanel con capa baja emisividad (+10.000 CLP/m² vs Doble Est.). Reduce transferencia calor.' },
                'triple':       { name: 'Triple (Termopanel Est.)',price: 26000, total: 58000, description: 'Triple vidrio con dos cámaras (+26.000 CLP/m² vs Doble Est.). Máximo aislamiento térmico.' },
                'triple-low-e': { name: 'Triple Low-E',            price: 43000, total: 75000, description: 'Termopanel triple con capa Low-E (+43.000 CLP/m² vs Doble Est.). Rendimiento superior.' },
                'laminated':    { name: 'Laminado (Seguridad)',    price: 18000, total: 50000, description: 'Vidrio con interlámina plástica (+18.000 CLP/m² vs Doble Est.). Mayor seguridad y filtro UV.' }
            },

             // Detalles Color Manilla
             HANDLE_COLOR_DETAILS: {
                 'white': { name: 'Blanco', preview: 'window-handle-white.png' },
                 'black': { name: 'Negro', preview: 'window-handle-black.png' },
                 'brushed': { name: 'Acero Cepillado', preview: 'window-handle-brushed.png' },
                 'smoked': { name: 'Grafito (Smoked)', preview: 'window-handle-smoked.png' },
                 'gold': { name: 'Dorado', preview: 'window-handle-gold.png' }
             },

            // Precio por accesorio
            ACCESSORY_PRICES: {
                'glazing-bars': { name: 'Barrotillos Decorativos', price: 48000, perOperable: false, description: 'Perfiles decorativos aplicados sobre el vidrio...', preview: 'images/windows/previews/barrotillos.png' },
                'security-lock': { name: 'Cierre Seguridad Mejorado', price: 70000, perOperable: true, description: 'Herrajes RC1 para mayor seguridad (Precio por hoja operable).', preview: 'images/windows/previews/cierre.png' },
                'exterior-sill': { name: 'Vierteaguas Exterior', price: 35000, perOperable: false, description: 'Perfil inferior exterior para evacuar agua (140mm).', preview: 'images/windows/previews/vierteaguas.png' }
            },

            // Restricciones de Dimensiones (Ajusta minPaneW según necesidad)
            DIMENSION_CONSTRAINTS: {
                '1': { minW: 400, maxW: 1600, minH: 500, maxH: 2800, minPaneW: 400, maxPaneW: 1600 },
                '2': { minW: 700, maxW: 3000, minH: 500, maxH: 2600, minPaneW: 350, maxPaneW: 1500 },
                '3': { minW: 1050, maxW: 4200, minH: 600, maxH: 2600, minPaneW: 350, maxPaneW: 1400 }
            },

            // Rutas y Nombres de Archivos Canvas y Preview
            IMAGE_BASE_PATH: 'images/windows/',
            BASE_IMAGE_FILENAMES: { 1: 'BLANCO1.png', 2: 'BLANCOdoble.png', 3: 'blancotriple.png' },
            PREVIEW_IMAGE_BASE_PATH: '', // Base path para previews pequeñas (si están en carpeta separada)
            DEFAULT_PREVIEW_ERROR_IMAGE: 'images/previews/preview_error.png', // Imagen de error genérica

            // Configuración Visualización Canvas
            VISUALIZATION_MAX_HEIGHT_CSS: 400, // Máxima altura CSS para el contenedor del canvas
            VISUALIZATION_MIN_DIM: 75,      // Mínimo ancho/alto visual del canvas en px
            CANVAS_MIN_FRAME_PX: 4,         // Mínimo ancho VISUAL del marco en px en el canvas
            CANVAS_MIN_CENTER_PX: 15,       // Mínimo ancho/alto VISUAL del área central (vidrio) en px

            // Configuración 9-Slice (Basado en prompt anterior y lógica visual)
            // Los porcentajes V/H se aplican al ANCHO/ALTO de la IMAGEN FUENTE
            NINE_SLICE: {
                // 1 Hoja: 15% bordes V y H
                sBorderVPct: 0.15, // % Ancho fuente para borde Izq/Der (1 Hoja)
                sBorderHPct: 0.15, // % Alto fuente para borde Sup/Inf (1 Hoja)
                // 2 Hojas: 15% bordes externos V, 15% bordes H, 10% mullion central
                // Nota: sMullionPct es el ANCHO TOTAL del mullion en la imagen fuente
                sMullionPct: 0.10, // % Ancho fuente para el mullion central (2 Hojas)
                // 3 Hojas: 8% bordes externos V, 15% bordes H, 10% cada mullion interno
                // Nota: s3PaneOuterVPct es el ancho del borde exterior para 3 hojas
                // Los mullions usan sMullionPct también para 3 hojas
                s3PaneOuterVPct: 0.08, // % Ancho fuente para borde Izq/Der (3 Hojas)
                s3PaneMullionPct: 0.10, // % Ancho fuente para CADA mullion (3 Hojas)

                borderStretchFactor: 0.1 // Factor de estiramiento visual de bordes (bajo = bordes mantienen tamaño)
            }
        };
        console.log("Configuración Global (CONFIG) cargada:", CONFIG);

        // --- Referencias a Elementos del DOM Esenciales ---
        const DOMElements = {
            windowTypeSelect: document.getElementById('window-type'),
            heightInput: document.getElementById('window-height'),
            frameColorOptionsContainer: document.getElementById('frame-color-options'),
            glassTypeSelect: document.getElementById('glass-type'),
            handleColorSelect: document.getElementById('handle-color'),
            handleMessageDiv: document.getElementById('handle-message'),
            handleFixedPriceInfo: document.getElementById('handle-fixed-price-info'),
            accessoryCheckboxes: document.querySelectorAll('.accessory-input'),
            totalWidthContainer: document.getElementById('total-width-container'),
            totalWidthInput: document.getElementById('window-width-total'),
            paneWidthsLabel: document.getElementById('pane-widths-label'),
            paneWidthsContainer: document.getElementById('pane-widths-container'),
            paneWidthValidationMsg: document.getElementById('pane-width-validation-message'), // Para errores de ancho de hoja
            paneSpecificConfigsContainer: document.getElementById('pane-specific-configs'),
            windowCanvas: document.getElementById('window-canvas-visual'),
            visualizationContainer: document.querySelector('.window-visualization-container'),
            handleColorPreview: document.getElementById('handle-color-preview'),
            configSummaryDiv: document.getElementById('config-summary'),
            totalPriceDisplay: document.getElementById('total-price'),
            quoteButton: document.getElementById('quote-button'),
            quoteButtonText: document.getElementById('quote-button').querySelector('.button-text'),
            pdfStatusDiv: document.getElementById('pdf-status'),
        };

        // --- Variables Globales del Configurador ---
        let currentConfigState = {
             numPanes: 1, height: 0, totalWidth: 0, panes: [],
             frameColor: '', frameColorText: '',
             glassType: '', glassTypeText: '',
             handleColor: '', handleColorText: '', handleColorPreviewSrc: '',
             accessories: {}, accessoriesText: [],
             isValid: false, price: 0,
             hasOperablePanes: false, totalAreaM2: 0, numOperablePanes: 0,
             hasSlidingPane: false,
         };
        let jsPDF_Instance;
        let canvasCtx = null;
        let loadedBaseImages = {};
        let baseImageLoadError = {};
        let loadedPreviewImages = {}; // Cache para imágenes pequeñas de preview

        // --- Verificación Inicial de Elementos del DOM y Canvas ---
        let essentialElementsFound = true;
        for (const key in DOMElements) {
             if (!DOMElements[key] || (DOMElements[key] instanceof NodeList && DOMElements[key].length === 0)) {
                 // Permitir que algunos elementos sean opcionales
                 if (!['handleMessageDiv', 'handleFixedPriceInfo', 'paneWidthValidationMsg'].includes(key)) {
                     console.error(`Error Crítico: Elemento del DOM esencial no encontrado: #${key}`);
                     essentialElementsFound = false;
                 } else if (!DOMElements[key]) {
                     console.warn(`Elemento opcional no encontrado: #${key}`);
                 }
             }
         }
        // Verificación Canvas y jsPDF
        if (DOMElements.windowCanvas) {
            try {
                canvasCtx = DOMElements.windowCanvas.getContext('2d');
                if (!canvasCtx) throw new Error('No se pudo obtener el contexto 2D.');
                // No configurar imageSmoothing aquí, puede que se necesite pixelated para 9-slice
                console.log("Contexto 2D del Canvas obtenido.");
                DOMElements.windowCanvas.style.setProperty('--canvas-max-height', `${CONFIG.VISUALIZATION_MAX_HEIGHT_CSS}px`);
                DOMElements.windowCanvas.style.setProperty('--canvas-min-visual-dim', `${CONFIG.VISUALIZATION_MIN_DIM}px`);
            }
            catch (e) { console.error("Error Crítico al obtener contexto 2D del Canvas:", e); DOMElements.windowCanvas.innerHTML = "Error al iniciar Canvas."; essentialElementsFound = false; }
        } else { console.warn("Elemento Canvas '#window-canvas-visual' no encontrado o no soportado."); essentialElementsFound = false; }

        try { if (window.jspdf && window.jspdf.jsPDF) { jsPDF_Instance = window.jspdf.jsPDF; console.log("Librería jsPDF cargada."); } else { throw new Error("jsPDF no encontrado."); } }
        catch (error) { console.error("Error Crítico al cargar jsPDF:", error); if(DOMElements.quoteButton && DOMElements.quoteButtonText) { DOMElements.quoteButton.disabled = true; DOMElements.quoteButtonText.textContent = "Error PDF Lib"; if(DOMElements.pdfStatusDiv) DOMElements.pdfStatusDiv.textContent = "Error: No se puede generar PDF."; } }

        if (!essentialElementsFound) {
             const missingCritical = Object.keys(DOMElements).filter(k => !DOMElements[k] && !['handleMessageDiv', 'handleFixedPriceInfo', 'paneWidthValidationMsg'].includes(k));
             if (missingCritical.length > 0) {
                 document.body.innerHTML = `<div class="alert alert-danger m-5">Error Crítico: No se pudo inicializar el configurador. Faltan componentes esenciales: ${missingCritical.join(', ')}. Contacte soporte.</div>`;
                 return; // Detener ejecución
             } else {
                 console.warn("Continuando inicialización con elementos opcionales faltantes.");
             }
         }
        console.log("Elementos DOM del configurador encontrados.");


        // --- Funciones del Configurador ---

        // Carga imagen base (sin cambios)
        function loadSpecificBaseImage(filename, callback) {
             if (!canvasCtx || !filename) { if (callback) callback(); return; }
             if (loadedBaseImages[filename] && loadedBaseImages[filename].complete && !baseImageLoadError[filename]) { if (callback) callback(); return; }
             if (baseImageLoadError[filename]) { if (callback) callback(); return; }
             if (loadedBaseImages[filename] && !loadedBaseImages[filename].complete) { /* Ya está cargando */ return; }

             const imageUrl = `${CONFIG.IMAGE_BASE_PATH}${filename}`; console.log(`Iniciando carga de imagen base: ${imageUrl}`);
             const img = new Image();
             loadedBaseImages[filename] = img; baseImageLoadError[filename] = false;

             img.onload = () => { console.log(`Imagen base '${filename}' cargada (${img.naturalWidth || img.width}x${img.naturalHeight || img.height}).`); if (callback) callback(); };
             img.onerror = (error) => { console.error(`Error CRÍTICO al cargar imagen base: ${imageUrl}`, error); baseImageLoadError[filename] = true; alert(`Error: No se pudo cargar la imagen base (${filename}). La visualización puede fallar.`); if (getCurrentBaseImageFilename(currentConfigState.numPanes) === filename) { drawCanvasError(`Error al cargar ${filename}`); } if (callback) callback(); };
             img.src = imageUrl;
         }

        // Obtiene nombre archivo imagen base (sin cambios)
        function getCurrentBaseImageFilename(numPanes) {
             return CONFIG.BASE_IMAGE_FILENAMES[numPanes] || CONFIG.BASE_IMAGE_FILENAMES[1];
         }

        // Dibuja error en canvas (sin cambios)
        function drawCanvasError(message) {
             if (!canvasCtx || !DOMElements.windowCanvas) return;
             const canvas = DOMElements.windowCanvas;
             if (canvas.width < CONFIG.VISUALIZATION_MIN_DIM) canvas.width = CONFIG.VISUALIZATION_MIN_DIM;
             if (canvas.height < CONFIG.VISUALIZATION_MIN_DIM) canvas.height = CONFIG.VISUALIZATION_MIN_DIM;
             canvasCtx.clearRect(0, 0, canvas.width, canvas.height);
             canvas.classList.add('error');
             canvasCtx.fillStyle = '#f8d7da'; canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
             canvasCtx.fillStyle = '#721c24'; canvasCtx.font = '14px sans-serif';
             canvasCtx.textAlign = 'center'; canvasCtx.textBaseline = 'middle';
             const words = message.split(' '); let line = ''; let y = canvas.height / 2 - (words.length > 5 ? 10 : 0); const lineHeight = 16; canvasCtx.textBaseline = 'bottom';
             for(let n = 0; n < words.length; n++) { let testLine = line + words[n] + ' '; let metrics = canvasCtx.measureText(testLine); let testWidth = metrics.width; if (testWidth > canvas.width * 0.9 && n > 0) { canvasCtx.fillText(line, canvas.width / 2, y); line = words[n] + ' '; y += lineHeight; } else { line = testLine; } }
             canvasCtx.fillText(line, canvas.width / 2, y);
             canvas.classList.remove('loading');
         }

        // Obtiene la configuración actual del DOM (sin cambios)
        function getCurrentConfiguration() {
             const state = currentConfigState;
             state.numPanes = parseInt(DOMElements.windowTypeSelect.value) || 1;
             state.height = parseInt(DOMElements.heightInput.value) || 0;

             // Frame Color
             const selectedColorOption = DOMElements.frameColorOptionsContainer.querySelector('.color-option.selected');
             state.frameColor = selectedColorOption ? selectedColorOption.dataset.colorValue : 'white';
             state.frameColorText = CONFIG.FRAME_COLOR_NAMES[state.frameColor] || state.frameColor;

             // Glass Type
             const selectedGlassOption = DOMElements.glassTypeSelect.options[DOMElements.glassTypeSelect.selectedIndex];
             state.glassType = DOMElements.glassTypeSelect.value;
             state.glassTypeText = selectedGlassOption ? (CONFIG.GLASS_TYPE_PRICE_ADDITIONAL_PER_M2[state.glassType]?.name || selectedGlassOption.text.split('<')[0].trim()) : 'N/A';

             // Handle Color
             const selectedHandleOption = DOMElements.handleColorSelect.options[DOMElements.handleColorSelect.selectedIndex];
             state.handleColor = DOMElements.handleColorSelect.value;
             state.handleColorText = selectedHandleOption ? (CONFIG.HANDLE_COLOR_DETAILS[state.handleColor]?.name || selectedHandleOption.text.split('<')[0].trim()) : 'N/A';
             state.handleColorPreviewSrc = selectedHandleOption ? (CONFIG.HANDLE_COLOR_DETAILS[state.handleColor]?.preview || '') : '';

             // Accessories
             state.accessories = {}; state.accessoriesText = [];
             DOMElements.accessoryCheckboxes.forEach(checkbox => {
                 state.accessories[checkbox.id] = checkbox.checked;
                 if (checkbox.checked) {
                     const label = document.querySelector(`label[for="${checkbox.id}"]`);
                     const accValue = checkbox.value;
                     const accConfig = CONFIG.ACCESSORY_PRICES[accValue];
                     state.accessoriesText.push(accConfig?.name || (label ? label.querySelector('.accessory-label-text')?.textContent.trim() : checkbox.id));
                 }
             });

             // Panes, Width, Operable Count, Sliding Check
             state.panes = []; state.totalWidth = 0; state.hasOperablePanes = false; state.numOperablePanes = 0; state.hasSlidingPane = false;
             const paneConfigSections = DOMElements.paneSpecificConfigsContainer.querySelectorAll('.pane-opening-config');
             const paneWidthInputs = (state.numPanes > 1) ? DOMElements.paneWidthsContainer.querySelectorAll('.pane-width-input') : [DOMElements.totalWidthInput];

             for (let i = 0; i < state.numPanes; i++) {
                 const widthInput = paneWidthInputs[i];
                 const configSection = paneConfigSections[i];
                 if (!widthInput || !configSection) {
                     console.warn(`Faltan elementos de configuración para la hoja ${i + 1}.`); continue;
                 }
                 const width = parseInt(widthInput.value) || 0;
                 let openingType = 'fixed'; let openingTypeText = CONFIG.OPENING_TYPE_DETAILS['fixed'].name;
                 const selectedRadio = configSection.querySelector('input[type="radio"]:checked');
                 if (selectedRadio) {
                     openingType = selectedRadio.value;
                     openingTypeText = CONFIG.OPENING_TYPE_DETAILS[openingType]?.name || openingType;
                 }
                 state.panes.push({ width: width, openingType: openingType, openingTypeText: openingTypeText });
                 if (openingType !== 'fixed') {
                     state.hasOperablePanes = true;
                     state.numOperablePanes++;
                 }
                 if (openingType === 'sliding') {
                     state.hasSlidingPane = true;
                 }
             }
             // Recalcular ancho total desde las hojas individuales si hay más de 1
             if (state.numPanes > 1) {
                state.totalWidth = state.panes.reduce((sum, p) => sum + p.width, 0);
             } else if (state.panes.length === 1) {
                state.totalWidth = state.panes[0].width; // Usar el valor de la única hoja (que viene del input total)
             } else {
                state.totalWidth = 0; // Error o estado inicial
             }

             state.totalWidth = Math.max(1, state.totalWidth); // Evitar división por cero
             state.totalAreaM2 = (state.totalWidth / 1000) * (state.height / 1000);

             return state;
         }

        // Crea inputs ancho hoja (sin cambios)
        function createPaneWidthInputs(numberOfPanes, initialTotalWidth, constraints) {
             console.log(`-> createPaneWidthInputs(${numberOfPanes}, ${initialTotalWidth}mm)`);
             DOMElements.paneWidthsContainer.innerHTML = '';
             DOMElements.paneWidthsLabel.style.display = 'block';
             DOMElements.paneWidthsContainer.style.display = 'flex';
             DOMElements.totalWidthContainer.style.display = 'none';
             if (DOMElements.paneWidthValidationMsg) { DOMElements.paneWidthValidationMsg.style.display = 'none'; DOMElements.paneWidthValidationMsg.textContent = ''; } // Ocultar mensaje

             const minPaneW = constraints.minPaneW; const maxPaneW = constraints.maxPaneW;
             initialTotalWidth = Math.max(constraints.minW, Math.min(constraints.maxW, initialTotalWidth));
             const baseWidth = Math.max(minPaneW, Math.floor(initialTotalWidth / numberOfPanes));
             let remainder = initialTotalWidth - (baseWidth * numberOfPanes);
             let distributedWidths = []; let currentSum = 0;

             for (let i = 0; i < numberOfPanes; i++) {
                 let targetWidth = baseWidth + (remainder > 0 ? 1 : (remainder < 0 ? -1 : 0));
                 targetWidth = Math.max(minPaneW, Math.min(maxPaneW, targetWidth));
                 distributedWidths.push(targetWidth);
                 if (remainder !== 0) remainder += (remainder > 0 ? -1 : 1);
             }

             currentSum = distributedWidths.reduce((a, b) => a + b, 0);
             let difference = initialTotalWidth - currentSum; let attempts = 0;
             while (difference !== 0 && attempts < numberOfPanes * 2) {
                 let adjustIndex = attempts % numberOfPanes;
                 let adjustment = Math.sign(difference);
                 let potentialWidth = distributedWidths[adjustIndex] + adjustment;
                 if (potentialWidth >= minPaneW && potentialWidth <= maxPaneW) {
                     distributedWidths[adjustIndex] = potentialWidth;
                     difference -= adjustment;
                 }
                 attempts++;
             }

             if (difference !== 0) { console.warn(` No se pudo distribuir exactamente ${initialTotalWidth}mm entre ${numberOfPanes} hojas respetando ${minPaneW}-${maxPaneW}. Suma actual: ${distributedWidths.reduce((a, b) => a + b, 0)}mm`); }

             distributedWidths.forEach((width, i) => {
                 const paneIndex = i;
                 const col = document.createElement('div'); col.className = `col-12 col-sm`;
                 const inputGroup = document.createElement('div'); inputGroup.className = 'input-group input-group-sm dimension-input-group';
                 const input = document.createElement('input'); input.type = 'number';
                 input.className = 'form-control pane-width-input dimension-input'; input.id = `pane-width-${paneIndex + 1}`;
                 input.dataset.paneIndex = paneIndex; input.required = true; input.step = 10;
                 input.value = width; input.min = minPaneW; input.max = maxPaneW;
                 input.ariaLabel = `Ancho hoja ${paneIndex + 1} en mm (${minPaneW}-${maxPaneW})`; input.placeholder = `${minPaneW}-${maxPaneW}`;
                 const unitSpan = document.createElement('span'); unitSpan.className = 'input-group-text'; unitSpan.textContent = 'mm';
                 inputGroup.appendChild(input); inputGroup.appendChild(unitSpan); col.appendChild(inputGroup);
                 DOMElements.paneWidthsContainer.appendChild(col);
                 input.addEventListener('input', handleConfigurationChange);
                 input.addEventListener('change', handleConfigurationChange);
             });
             console.log(`<- createPaneWidthInputs() finalizado. Anchos: ${distributedWidths.join(', ')}`);
         }

        // Crea opciones de apertura por hoja (sin cambios)
        function createPaneSpecificConfigs(numberOfPanes) {
            console.log(`-> createPaneSpecificConfigs(${numberOfPanes})`);
            DOMElements.paneSpecificConfigsContainer.innerHTML = '';
            const sectionTitle = document.createElement('h4');
            sectionTitle.className = 'h5 mb-3 text-muted fw-semibold';
            sectionTitle.textContent = 'Tipo de Apertura por Hoja:';
            DOMElements.paneSpecificConfigsContainer.appendChild(sectionTitle);
            DOMElements.paneSpecificConfigsContainer.style.display = 'block';

            for (let i = 0; i < numberOfPanes; i++) {
                const paneIndex = i;
                const paneDiv = document.createElement('div');
                paneDiv.className = 'mb-4 pane-opening-config';
                paneDiv.dataset.paneIndex = paneIndex;

                const openingLabel = document.createElement('h6');
                openingLabel.className = 'mb-3 fw-normal';
                openingLabel.textContent = `Hoja ${paneIndex + 1}:`;
                paneDiv.appendChild(openingLabel);

                const optionsContainer = document.createElement('div');
                optionsContainer.className = 'opening-options-container';

                Object.keys(CONFIG.OPENING_TYPE_DETAILS).forEach(openingType => {
                    const details = CONFIG.OPENING_TYPE_DETAILS[openingType];
                    if (openingType === 'sliding' && numberOfPanes === 1) { return; } // Omitir corredera para 1 hoja

                    const optionWrapper = document.createElement('label');
                    optionWrapper.className = 'opening-option';
                    optionWrapper.htmlFor = `opening-type-${paneIndex}-${openingType}`;
                    optionWrapper.title = details.description;

                    const radioInput = document.createElement('input');
                    radioInput.type = 'radio';
                    radioInput.name = `opening-type-${paneIndex}`;
                    radioInput.id = `opening-type-${paneIndex}-${openingType}`;
                    radioInput.value = openingType;
                    radioInput.dataset.paneIndex = paneIndex;
                    if (openingType === 'fixed') { radioInput.checked = true; optionWrapper.classList.add('selected'); }
                    optionWrapper.appendChild(radioInput);

                    const img = document.createElement('img');
                    img.src = details.preview || CONFIG.DEFAULT_PREVIEW_ERROR_IMAGE;
                    img.alt = `Preview ${details.name}`;
                    img.className = 'opening-preview-image';
                    img.loading = 'lazy';
                    img.onerror = function() { this.onerror=null; this.src=CONFIG.DEFAULT_PREVIEW_ERROR_IMAGE; this.classList.add('preview-error'); console.warn(`Error cargando preview apertura: ${details.preview}`); };
                    optionWrapper.appendChild(img);

                    const nameSpan = document.createElement('span');
                    nameSpan.className = 'opening-name';
                    nameSpan.textContent = details.name;
                    optionWrapper.appendChild(nameSpan);

                    const priceSpan = document.createElement('span');
                    priceSpan.className = 'option-price text-muted small d-block'; // Se actualizará por JS
                    optionWrapper.appendChild(priceSpan);

                    optionsContainer.appendChild(optionWrapper);

                    radioInput.addEventListener('change', (e) => {
                         if (radioInput.checked) {
                             const currentPaneOptions = paneDiv.querySelectorAll('.opening-option');
                             currentPaneOptions.forEach(opt => opt.classList.remove('selected'));
                             optionWrapper.classList.add('selected');
                             handleConfigurationChange(e); // Dispara actualización global
                         }
                     });
                    optionWrapper.addEventListener('click', (e) => {
                         if (e.target !== radioInput && !radioInput.checked && !optionWrapper.classList.contains('disabled')) {
                              radioInput.checked = true;
                              const event = new Event('change', { bubbles: true });
                              radioInput.dispatchEvent(event);
                         } else if (optionWrapper.classList.contains('disabled')) {
                             e.preventDefault();
                         }
                     });
                });

                paneDiv.appendChild(optionsContainer);
                DOMElements.paneSpecificConfigsContainer.appendChild(paneDiv);
            }
            console.log("<- createPaneSpecificConfigs() finalizado.");
        }

        // Valida dimensiones (ACTUALIZADO para mostrar mensaje de error de ancho hoja)
        function validateDimensions(state) {
            let isValidOverall = true;
            const constraints = CONFIG.DIMENSION_CONSTRAINTS[state.numPanes];
            if (!constraints) { console.error(`Error Validación: No hay restricciones para ${state.numPanes} hojas.`); state.isValid = false; if (DOMElements.quoteButton) DOMElements.quoteButton.disabled = true; return false; }

            const heightInput = DOMElements.heightInput; const totalWidthInput = DOMElements.totalWidthInput; const paneWidthInputs = DOMElements.paneWidthsContainer.querySelectorAll('.pane-width-input');
            const validationMsgDiv = DOMElements.paneWidthValidationMsg;

            // Reset validation messages/styles
            if (heightInput) heightInput.classList.remove('is-invalid');
            if (totalWidthInput) totalWidthInput.classList.remove('is-invalid');
            paneWidthInputs.forEach(inp => inp.classList.remove('is-invalid'));
            if (validationMsgDiv) { validationMsgDiv.style.display = 'none'; validationMsgDiv.textContent = ''; }

            // Validar Alto
             const h = state.height;
             if (isNaN(h) || h < constraints.minH || h > constraints.maxH) {
                 isValidOverall = false; console.warn(`Validación Alto: ${h}mm inválido (Req: ${constraints.minH}-${constraints.maxH}).`); if (heightInput) heightInput.classList.add('is-invalid');
             }

            // Validar Ancho(s)
            let calculatedSum = 0; let individualPaneErrors = false; let paneErrorMessages = [];
            if (!state.panes || state.panes.length !== state.numPanes) {
                console.warn(`Validación Ancho: Discrepancia numPanes (${state.panes?.length} vs ${state.numPanes}).`); isValidOverall = false;
                if (state.numPanes === 1 && totalWidthInput) totalWidthInput.classList.add('is-invalid');
                paneWidthInputs.forEach(inp => inp.classList.add('is-invalid')); // Marcar todos como inválidos si hay discrepancia
                if (validationMsgDiv) { validationMsgDiv.textContent = 'Error interno: Número de hojas no coincide.'; validationMsgDiv.style.display = 'block'; }
            } else {
                state.panes.forEach((pane, index) => {
                    const widthValue = pane.width; calculatedSum += widthValue;
                    const minPaneW = (state.numPanes === 1) ? constraints.minW : constraints.minPaneW;
                    const maxPaneW = (state.numPanes === 1) ? constraints.maxW : constraints.maxPaneW;
                    const currentInput = (state.numPanes === 1) ? totalWidthInput : paneWidthInputs[index];

                    if (isNaN(widthValue) || widthValue < minPaneW || widthValue > maxPaneW) {
                        isValidOverall = false; individualPaneErrors = true;
                        const errorMsg = `Hoja ${index + 1}: ${widthValue}mm (Req: ${minPaneW}-${maxPaneW})`;
                        paneErrorMessages.push(errorMsg);
                        console.warn(`Validación Ancho Hoja ${index + 1}: ${widthValue}mm inválido (Req: ${minPaneW}-${maxPaneW}).`);
                        if (currentInput) currentInput.classList.add('is-invalid');
                    } else {
                        // No quitar is-invalid aquí si la suma total falla después
                    }
                });

                // Validar suma total
                if (calculatedSum < constraints.minW || calculatedSum > constraints.maxW) {
                     isValidOverall = false;
                     const totalErrorMsg = `Ancho total (${calculatedSum}mm) fuera de rango (${constraints.minW}-${constraints.maxW}mm).`;
                     paneErrorMessages.push(totalErrorMsg);
                     console.warn(`Validación Ancho Total (Suma ${calculatedSum}mm) inválido (Req: ${constraints.minW}-${constraints.maxW}).`);
                     // Marcar inputs relevantes como inválidos si la suma falla
                     if (state.numPanes === 1 && totalWidthInput) totalWidthInput.classList.add('is-invalid');
                     else if (state.numPanes > 1) {
                         paneWidthInputs.forEach(inp => inp.classList.add('is-invalid')); // Marcar todos si suma falla
                     }
                } else if (!individualPaneErrors) {
                    // Si la suma es correcta Y los anchos individuales están bien, quitar is-invalid
                     if (state.numPanes === 1 && totalWidthInput) totalWidthInput.classList.remove('is-invalid');
                     else if (state.numPanes > 1) paneWidthInputs.forEach(inp => inp.classList.remove('is-invalid'));
                }
            }

            // Mostrar mensajes de error de ancho si hay
            if (paneErrorMessages.length > 0 && validationMsgDiv) {
                validationMsgDiv.textContent = paneErrorMessages.join(' | ');
                validationMsgDiv.style.display = 'block';
            }


            state.isValid = isValidOverall;
            if (DOMElements.quoteButton) { DOMElements.quoteButton.disabled = !state.isValid || !jsPDF_Instance; }
            console.log(`Validación dimensiones: ${state.isValid}`);
            return state.isValid;
        }


        // Calcula precio (sin cambios)
        function calculatePrice(state) {
             if (!state.isValid) {
                 state.price = 0;
                 return 0;
             }

             let price = 0;
             const totalAreaM2 = state.totalAreaM2;

             // 1. Costo del Sistema de Perfiles
             const profilePricePerM2 = (state.frameColor === 'white')
                 ? CONFIG.PROFILE_PRICE_PER_M2_WHITE
                 : CONFIG.PROFILE_PRICE_PER_M2_OTHER;
             price += totalAreaM2 * profilePricePerM2;

             // 2. Costo del Vidrio Base
             price += totalAreaM2 * CONFIG.GLASS_BASE_PRICE_PER_M2;

             // 3. Costo ADICIONAL por tipo de vidrio
             const glassCostPerM2_Additional = CONFIG.GLASS_TYPE_PRICE_ADDITIONAL_PER_M2[state.glassType]?.price || 0;
             price += glassCostPerM2_Additional * totalAreaM2;

             // 4. Costo por divisiones (mullions)
            if (state.numPanes > 1) {
                price += (state.numPanes - 1) * CONFIG.MULLION_PRICE_PER_M2 * totalAreaM2;
            }

             // 5. Costo por tipo de apertura
            let openingCost = 0;
            let slidingApplied = false;
            state.panes.forEach(pane => {
                const details = CONFIG.OPENING_TYPE_DETAILS[pane.openingType];
                if (!details) return;
                if (pane.openingType === 'sliding') {
                    if (!slidingApplied) {
                        openingCost += (details.pricePerM2 || 0) * totalAreaM2;
                        slidingApplied = true;
                    }
                } else {
                    openingCost += details.price || 0;
                }
            });
            price += openingCost;

             // 6. Costo por manillas
             const handleCost = state.numOperablePanes * CONFIG.HANDLE_FLAT_PRICE;
             price += handleCost;

             // 7. Costo por accesorios
             let totalAccessoryCost = 0;
             for (const accId in state.accessories) {
                 if (state.accessories[accId]) {
                     const checkboxElement = document.getElementById(accId);
                     const accKey = checkboxElement ? checkboxElement.value : null;
                     const accConfig = accKey ? CONFIG.ACCESSORY_PRICES[accKey] : null;
                     if (accConfig) {
                         totalAccessoryCost += accConfig.perOperable ? (accConfig.price * state.numOperablePanes) : accConfig.price;
                     }
                 }
             }
             price += totalAccessoryCost;

             state.price = Math.round(price);
             // console.log(`Precio Total Calculado: ${state.price.toLocaleString('es-CL')} CLP`);
             return state.price;
        }

        // Actualiza precios mostrados en opciones (sin cambios)
        function updateOptionPrices(state) {
             const formatPriceDiff = (value) => value !== 0 ? `(${value > 0 ? '+' : ''}${value.toLocaleString('es-CL')} CLP)` : '';
             const formatBase = (text = 'Incluido') => `(${text})`;

             if (!state.isValid) { document.querySelectorAll('.option-price').forEach(span => span.textContent = ''); return; }

             const currentPrice = state.price; // Usar el precio ya calculado
             const totalAreaM2 = state.totalAreaM2;
             const numOperable = state.numOperablePanes;

             // --- Precios Colores Marco ---
             const baseProfilePriceCurrent = (state.frameColor === 'white' ? CONFIG.PROFILE_PRICE_PER_M2_WHITE : CONFIG.PROFILE_PRICE_PER_M2_OTHER) * totalAreaM2;
             DOMElements.frameColorOptionsContainer.querySelectorAll('.color-option').forEach(optionDiv => {
                 const colorValue = optionDiv.dataset.colorValue;
                 const priceSpan = optionDiv.querySelector('.option-price');
                 if (!priceSpan) return;
                 const profilePriceThis = (colorValue === 'white' ? CONFIG.PROFILE_PRICE_PER_M2_WHITE : CONFIG.PROFILE_PRICE_PER_M2_OTHER) * totalAreaM2;
                 const diff = Math.round(profilePriceThis - baseProfilePriceCurrent);
                 priceSpan.textContent = (colorValue === state.frameColor) ? formatBase('Seleccionado') : formatPriceDiff(diff);
             });

             // --- Precios Tipo Vidrio ---
             const baseGlassTotalCostCurrent = (CONFIG.GLASS_BASE_PRICE_PER_M2 + (CONFIG.GLASS_TYPE_PRICE_ADDITIONAL_PER_M2[state.glassType]?.price || 0)) * totalAreaM2;
             Array.from(DOMElements.glassTypeSelect.options).forEach(option => {
                 const glassValue = option.value;
                 const priceSpan = option.querySelector('.option-price');
                 if (!priceSpan) return;
                 const config = CONFIG.GLASS_TYPE_PRICE_ADDITIONAL_PER_M2[glassValue];
                 if (!config) { priceSpan.textContent = ''; return; }
                 const glassTotalCostThis = (CONFIG.GLASS_BASE_PRICE_PER_M2 + config.price) * totalAreaM2;
                 const diff = Math.round(glassTotalCostThis - baseGlassTotalCostCurrent);
                 priceSpan.textContent = (glassValue === state.glassType) ? formatBase('Seleccionado') : formatPriceDiff(diff);
             });

             // --- Precios Color Manilla ---
             Array.from(DOMElements.handleColorSelect.options).forEach(option => {
                 const handleValue = option.value;
                 const priceSpan = option.querySelector('.option-price');
                 if (!priceSpan) return;
                 priceSpan.textContent = numOperable > 0 ? (handleValue === state.handleColor ? formatBase('Seleccionado') : '') : formatBase('N/A');
             });

            // --- Precios Accesorios ---
             const baseAccessoryCostCurrent = Object.keys(state.accessories)
                 .filter(id => state.accessories[id])
                 .reduce((sum, id) => {
                      const cb = document.getElementById(id);
                      const cfg = cb ? CONFIG.ACCESSORY_PRICES[cb.value] : null;
                      return sum + (cfg ? (cfg.perOperable ? cfg.price * numOperable : cfg.price) : 0);
                  }, 0);

             DOMElements.accessoryCheckboxes.forEach(checkbox => {
                 const accId = checkbox.id;
                 const accValue = checkbox.value;
                 const label = document.querySelector(`label[for="${accId}"]`);
                 const priceSpan = label ? label.querySelector('.option-price') : null;
                 if (!priceSpan) return;

                 const accConfig = CONFIG.ACCESSORY_PRICES[accValue];
                 if (accConfig) {
                     const costThisAccessory = accConfig.perOperable ? accConfig.price * numOperable : accConfig.price;
                     const isChecked = checkbox.checked;

                      if (accConfig.perOperable && numOperable === 0) {
                           priceSpan.textContent = formatBase('N/A');
                           priceSpan.style.color = 'var(--text-muted)';
                       } else {
                            priceSpan.textContent = formatPriceDiff(costThisAccessory) + (accConfig.perOperable && numOperable > 1 ? ` (${numOperable} aplic.)` : '');
                           priceSpan.style.color = 'var(--brand-primary)'; // Reset color
                       }
                 } else { priceSpan.textContent = ''; }
             });


            // --- Precios Tipo Apertura ---
            const getOpeningPrice = (type) => {
                const d = CONFIG.OPENING_TYPE_DETAILS[type];
                if (!d) return 0;
                return type === 'sliding' ? (d.pricePerM2 || 0) * totalAreaM2 : (d.price || 0);
            };

            state.panes.forEach((pane, paneIndex) => {
                const paneDiv = DOMElements.paneSpecificConfigsContainer.querySelector(`.pane-opening-config[data-pane-index="${paneIndex}"]`);
                if (!paneDiv) return;
                const baseOpeningPriceThisPane = getOpeningPrice(pane.openingType);

                paneDiv.querySelectorAll('.opening-option').forEach(optionWrapper => {
                    const radio = optionWrapper.querySelector('input[type="radio"]');
                    const priceSpan = optionWrapper.querySelector('.option-price');
                    if (!radio || !priceSpan) return;
                    const openingValue = radio.value;
                    const openingConfig = CONFIG.OPENING_TYPE_DETAILS[openingValue];
                    const isSelected = radio.checked;

                    if (openingConfig) {
                        const priceDiff = getOpeningPrice(openingValue) - baseOpeningPriceThisPane;
                        priceSpan.textContent = isSelected ? formatBase('Seleccionado') : formatPriceDiff(priceDiff);
                    } else { priceSpan.textContent = ''; }
                });
            });
        }

        // Dibuja 9-Slice (ACTUALIZADO con mínimo área central)
        function drawNineSlicePane(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh, sBorders, destScaleX_Borders, destScaleY_Borders) {
            const minCenterPx = CONFIG.CANVAS_MIN_CENTER_PX || 1; // Mínimo px para área central
            const minFramePx = CONFIG.CANVAS_MIN_FRAME_PX || 1;   // Mínimo px para bordes

            // Asegurarse que dw y dh sean al menos 1 para evitar errores
            dw = Math.max(1, dw);
            dh = Math.max(1, dh);

            // Bordes de la imagen fuente (no pueden ser negativos)
            const sTop = Math.max(0, sBorders.top); const sRight = Math.max(0, sBorders.right); const sBottom = Math.max(0, sBorders.bottom); const sLeft = Math.max(0, sBorders.left);

            // Fallback: Si los bordes fuente son mayores que el tamaño fuente, dibujar imagen completa escalada
            if (sLeft + sRight >= sw || sTop + sBottom >= sh) {
                if (sw > 0 && sh > 0 && dw > 0 && dh > 0) {
                     try { ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh); } catch (e) { console.error("Error en fallback drawImage:", e); }
                }
                return;
            }

            // Calcular coordenadas y tamaños de las 9 secciones en la imagen FUENTE
            const sXcoords = [sx, sx + sLeft, sx + sw - sRight]; const sYcoords = [sy, sy + sTop, sy + sh - sBottom];
            const sWidths = [sLeft, sw - sLeft - sRight, sRight]; const sHeights = [sTop, sh - sTop - sBottom, sBottom];
            if(sWidths[1] < 0) sWidths[1] = 0; // Asegurar que el ancho central fuente no sea negativo
            if(sHeights[1] < 0) sHeights[1] = 0; // Asegurar que el alto central fuente no sea negativo

            // Calcular tamaños iniciales de los bordes en el DESTINO (canvas)
            // Aplicar escalado limitado (borderStretchFactor) y asegurar mínimo de píxeles (minFramePx)
            let dTop = Math.max(minFramePx, Math.min(dh / 2, sTop * destScaleY_Borders));
            let dBottom = Math.max(minFramePx, Math.min(dh / 2, sBottom * destScaleY_Borders));
            let dLeft = Math.max(minFramePx, Math.min(dw / 2, sLeft * destScaleX_Borders));
            let dRight = Math.max(minFramePx, Math.min(dw / 2, sRight * destScaleX_Borders));

            // Asegurar que los bordes destino no se solapen (ajustar si dw/dh es muy pequeño)
            if (dLeft + dRight >= dw) { const availableW = Math.max(1, dw); dLeft = Math.floor(availableW / 2); dRight = Math.ceil(availableW / 2); }
            if (dTop + dBottom >= dh) { const availableH = Math.max(1, dh); dTop = Math.floor(availableH / 2); dBottom = Math.ceil(availableH / 2); }

            // Calcular tamaño inicial del área central en el DESTINO
            let dCenterW = dw - dLeft - dRight;
            let dCenterH = dh - dTop - dBottom;

            // *** NUEVA LÓGICA: Asegurar área central mínima ***
            // Si el ancho central es menor que el mínimo requerido...
            if (dCenterW < minCenterPx) {
                const deficitW = minCenterPx - dCenterW; // Cuánto falta
                // Quitar píxeles de los bordes izquierdo y derecho, proporcionalmente o mitad/mitad
                const adjustW = Math.ceil(deficitW / 2);
                // Reducir bordes, pero sin bajar de 1px
                dLeft = Math.max(1, dLeft - adjustW);
                dRight = Math.max(1, dRight - adjustW);
                // Recalcular ancho central (debería ser >= minCenterPx ahora, a menos que dw sea extremadamente pequeño)
                dCenterW = dw - dLeft - dRight;
            }

            // Si el alto central es menor que el mínimo requerido...
            if (dCenterH < minCenterPx) {
                const deficitH = minCenterPx - dCenterH; // Cuánto falta
                // Quitar píxeles de los bordes superior e inferior
                const adjustH = Math.ceil(deficitH / 2);
                // Reducir bordes, pero sin bajar de 1px
                dTop = Math.max(1, dTop - adjustH);
                dBottom = Math.max(1, dBottom - adjustH);
                // Recalcular alto central
                dCenterH = dh - dTop - dBottom;
            }
            // Asegurar que los tamaños centrales no sean negativos después del ajuste
            if (dCenterW < 0) dCenterW = 0;
            if (dCenterH < 0) dCenterH = 0;

            // Calcular coordenadas y tamaños FINALES de las 9 secciones en el DESTINO
            const dXcoords = [dx, dx + dLeft, dx + dw - dRight]; const dYcoords = [dy, dy + dTop, dy + dh - dBottom];
            const dWidths = [dLeft, dCenterW, dRight]; const dHeights = [dTop, dCenterH, dBottom];

            // Desactivar suavizado para bordes nítidos
            const wasSmoothingEnabled = ctx.imageSmoothingEnabled;
            ctx.imageSmoothingEnabled = false;

            // Dibujar las 9 secciones
            for (let row = 0; row < 3; row++) {
                for (let col = 0; col < 3; col++) {
                    const sx_slice = sXcoords[col]; const sy_slice = sYcoords[row];
                    const sw_slice = sWidths[col];  const sh_slice = sHeights[row];
                    const dx_slice = dXcoords[col]; const dy_slice = dYcoords[row];
                    const dw_slice = dWidths[col];  const dh_slice = dHeights[row];

                    if (sw_slice > 0 && sh_slice > 0 && dw_slice > 0 && dh_slice > 0) {
                        try {
                            ctx.drawImage(img,
                                Math.round(sx_slice), Math.round(sy_slice), Math.round(sw_slice), Math.round(sh_slice),
                                Math.round(dx_slice), Math.round(dy_slice), Math.round(dw_slice), Math.round(dh_slice)
                            );
                        } catch (e) {
                            console.error(`Error 9-slice drawImage (r${row},c${col}):`, e, {sx:sx_slice, sy:sy_slice, sw:sw_slice, sh:sh_slice, dx:dx_slice, dy:dy_slice, dw:dw_slice, dh:dh_slice});
                            // Dibujar un rectángulo rojo como indicador de error en esa sección
                            ctx.fillStyle = `rgba(255, 0, 0, 0.3)`;
                            ctx.fillRect(dx_slice, dy_slice, dw_slice, dh_slice);
                        }
                    }
                }
            }
             // Restaurar suavizado si estaba activado
             ctx.imageSmoothingEnabled = wasSmoothingEnabled;
        }

        // Actualiza visualización canvas (ACTUALIZADO con límite visual)
        function updateVisualization(state) {
             const canvas = DOMElements.windowCanvas; const container = DOMElements.visualizationContainer;
             if (!canvasCtx || !canvas || !container) { console.warn("Canvas o contexto no disponible para visualización."); return; }

             const currentBaseFilename = getCurrentBaseImageFilename(state.numPanes);
             const baseImg = loadedBaseImages[currentBaseFilename];
             const isLoading = !baseImg || !baseImg.complete; const loadHadError = baseImageLoadError[currentBaseFilename];

             canvas.classList.toggle('loading', isLoading && !loadHadError);
             canvas.classList.toggle('error', loadHadError);

             const containerPadding = parseFloat(getComputedStyle(container).paddingLeft) + parseFloat(getComputedStyle(container).paddingRight);
             const availableWidth = container.clientWidth > 50 ? container.clientWidth - containerPadding : 350;
             const maxVisualHeight = CONFIG.VISUALIZATION_MAX_HEIGHT_CSS;
             const minVisualDim = CONFIG.VISUALIZATION_MIN_DIM || 50;
             let displayWidth, displayHeight;

             // --- LÓGICA DE DIMENSIONES EFECTIVAS PARA VISUALIZACIÓN ---
             const constraints = CONFIG.DIMENSION_CONSTRAINTS[state.numPanes] || CONFIG.DIMENSION_CONSTRAINTS['1'];
             let effectiveWidth, effectiveHeight;

             if (state.isValid) {
                // Usar dimensiones reales PERO clampeadas al mínimo para el cálculo del aspect ratio visual
                effectiveWidth = Math.max(constraints.minW, state.totalWidth);
                effectiveHeight = Math.max(constraints.minH, state.height);
             } else {
                 // Si no es válido, usar dimensiones mínimas como fallback para el aspect ratio visual
                 effectiveWidth = constraints.minW;
                 effectiveHeight = constraints.minH;
             }
             // --- FIN LÓGICA DIMENSIONES EFECTIVAS ---


             if (effectiveWidth > 0 && effectiveHeight > 0) {
                 const effectiveRatio = effectiveHeight / effectiveWidth;

                 // Calcular tamaño visual basado en el ratio efectivo y el espacio disponible
                 displayWidth = availableWidth;
                 displayHeight = displayWidth * effectiveRatio;

                 // Ajustar si excede la altura máxima
                 if (displayHeight > maxVisualHeight) {
                     displayHeight = maxVisualHeight;
                     displayWidth = displayHeight / effectiveRatio;
                 }

                 // Asegurar que el ancho no exceda el disponible después del ajuste de altura
                  if (displayWidth > availableWidth) {
                       displayWidth = availableWidth;
                       displayHeight = displayWidth * effectiveRatio;
                  }

                 // Asegurar dimensiones mínimas visuales
                 displayWidth = Math.max(minVisualDim, displayWidth);
                 displayHeight = Math.max(minVisualDim, displayHeight);

                 // Redondear al píxel más cercano
                 displayWidth = Math.round(displayWidth);
                 displayHeight = Math.round(displayHeight);

                 // Redimensionar el canvas si es necesario
                 if (canvas.width !== displayWidth || canvas.height !== displayHeight) {
                     canvas.width = displayWidth;
                     canvas.height = displayHeight;
                     console.log(`Canvas resized to: ${displayWidth}x${displayHeight}px (Ratio basado en ${effectiveWidth}x${effectiveHeight}mm)`);
                 }
                 // Aplicar tamaño CSS también para consistencia
                 canvas.style.width = `${displayWidth}px`;
                 canvas.style.height = `${displayHeight}px`;
                 canvas.classList.remove('error'); // Quitar error si ahora es válido y tiene dimensiones
             } else {
                 // Fallback si effectiveWidth/Height es 0 (no debería pasar si state.isValid=true)
                 displayWidth = Math.max(minVisualDim, canvas.width || minVisualDim);
                 displayHeight = Math.max(minVisualDim, canvas.height || minVisualDim);
                 if (canvas.width !== displayWidth || canvas.height !== displayHeight) { canvas.width = displayWidth; canvas.height = displayHeight; }
                 canvas.style.width = `${displayWidth}px`; canvas.style.height = `${displayHeight}px`;
                 drawCanvasError("Dimensiones inválidas.");
                 updateSmallOptionPreviews(state); return;
             }

             // Limpiar canvas
             canvasCtx.clearRect(0, 0, canvas.width, canvas.height);

             // Manejar error de carga de imagen
             if (loadHadError) { drawCanvasError(`Error al cargar ${currentBaseFilename}`); updateSmallOptionPreviews(state); return; }

             // Mostrar mensaje de carga si aplica
             if (isLoading) {
                  canvasCtx.fillStyle = '#eee'; canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
                  canvasCtx.fillStyle = '#555'; canvasCtx.font = '12px sans-serif';
                  canvasCtx.textAlign = 'center'; canvasCtx.textBaseline = 'middle';
                  canvasCtx.fillText(`Cargando ${currentBaseFilename}...`, canvas.width / 2, canvas.height / 2);
                  loadSpecificBaseImage(currentBaseFilename, () => { handleConfigurationChange({ target: { id: 'imageLoadedCallback' }}); });
                  updateSmallOptionPreviews(state); return;
             }

             // --- DIBUJAR LAS HOJAS (Panes) ---
             const sourceWidth = baseImg.naturalWidth || baseImg.width || 1;
             const sourceHeight = baseImg.naturalHeight || baseImg.height || 1;

             // Calcular escalas de destino para los bordes (usando factor de estiramiento)
             const overallScaleX = canvas.width / sourceWidth;
             const overallScaleY = canvas.height / sourceHeight;
             const borderStretch = CONFIG.NINE_SLICE.borderStretchFactor;
             const destScaleX_Borders = 1 + (overallScaleX - 1) * borderStretch;
             const destScaleY_Borders = 1 + (overallScaleY - 1) * borderStretch;

             let currentDx = 0; // Posición X actual en el canvas

             for (let i = 0; i < state.numPanes; i++) {
                 const pane = state.panes[i];
                 if (!pane || pane.width <= 0 || state.totalWidth <= 0) {
                     console.warn(`Saltando dibujo de hoja ${i+1} por datos inválidos.`);
                     continue;
                 }

                 // --- Calcular dimensiones y posición FUENTE para esta hoja ---
                 // Ancho fuente de la hoja (asumiendo división equitativa en la imagen base)
                 const sPaneWidth = sourceWidth / state.numPanes;
                 const sx = i * sPaneWidth; // Posición X fuente
                 const sy = 0; // Posición Y fuente
                 const sh = sourceHeight; // Alto fuente

                 // --- Calcular dimensiones y posición DESTINO para esta hoja ---
                 // Ancho destino de la hoja (proporcional al ancho real de la hoja en mm)
                 const paneWidthRatio = pane.width / state.totalWidth;
                 const dPaneWidth = Math.max(1, Math.round(canvas.width * paneWidthRatio)); // Ancho en canvas, mínimo 1px
                 const dx = Math.round(currentDx); // Posición X destino
                 const dy = 0; // Posición Y destino
                 const dh = canvas.height; // Alto destino

                 // --- Calcular bordes FUENTE específicos para esta hoja (9-Slice) ---
                 let sBorderSize = { top: 0, right: 0, bottom: 0, left: 0 };
                 sBorderSize.top = sourceHeight * CONFIG.NINE_SLICE.sBorderHPct;
                 sBorderSize.bottom = sourceHeight * CONFIG.NINE_SLICE.sBorderHPct;

                 if (state.numPanes === 1) {
                     sBorderSize.left = sourceWidth * CONFIG.NINE_SLICE.sBorderVPct;
                     sBorderSize.right = sourceWidth * CONFIG.NINE_SLICE.sBorderVPct;
                 } else if (state.numPanes === 2) {
                     const sMullionHalfPx = (sourceWidth * CONFIG.NINE_SLICE.sMullionPct) / 2;
                     if (i === 0) { // Primera hoja
                         sBorderSize.left = sourceWidth * CONFIG.NINE_SLICE.sBorderVPct; // Borde exterior
                         sBorderSize.right = sMullionHalfPx; // Medio mullion
                     } else { // Segunda hoja
                         sBorderSize.left = sMullionHalfPx; // Medio mullion
                         sBorderSize.right = sourceWidth * CONFIG.NINE_SLICE.sBorderVPct; // Borde exterior
                     }
                 } else if (state.numPanes === 3) {
                     // Usar s3PaneOuterVPct para bordes externos, s3PaneMullionPct para internos
                     const sOuterVPx = sourceWidth * CONFIG.NINE_SLICE.s3PaneOuterVPct;
                     const sMullionHalfPx = (sourceWidth * CONFIG.NINE_SLICE.s3PaneMullionPct) / 2;
                     if (i === 0) { // Primera hoja
                         sBorderSize.left = sOuterVPx;
                         sBorderSize.right = sMullionHalfPx;
                     } else if (i === 1) { // Segunda hoja (central)
                         sBorderSize.left = sMullionHalfPx;
                         sBorderSize.right = sMullionHalfPx;
                     } else { // Tercera hoja
                         sBorderSize.left = sMullionHalfPx;
                         sBorderSize.right = sOuterVPx;
                     }
                 }

                 // Dibujar la hoja usando 9-slice
                 drawNineSlicePane(canvasCtx, baseImg, sx, sy, sPaneWidth, sh, dx, dy, dPaneWidth, dh, sBorderSize, destScaleX_Borders, destScaleY_Borders);

                 // Actualizar posición X para la siguiente hoja
                 currentDx += dPaneWidth;
             }

             // --- FIN DIBUJO HOJAS ---

             updateSmallOptionPreviews(state);
             canvas.classList.remove('loading');
         }

        // Actualiza previews pequeñas (sin cambios)
        function updateSmallOptionPreviews(state) {
            // Manilla
            updateOptionPreview(DOMElements.handleColorPreview, state.handleColorPreviewSrc, `color manilla ${state.handleColor}`);

            // Accesorios
            DOMElements.accessoryCheckboxes.forEach(checkbox => {
                const accId = checkbox.id;
                const accValue = checkbox.value;
                const accConfig = CONFIG.ACCESSORY_PRICES[accValue];
                const label = document.querySelector(`label[for="${accId}"]`);
                const imgElement = label ? label.querySelector('.accessory-preview-image') : null;

                if (imgElement && accConfig && accConfig.preview) {
                    updateOptionPreview(imgElement, accConfig.preview, accConfig.name);
                } else if (imgElement) {
                    updateOptionPreview(imgElement, '', `accesorio ${accValue}`);
                }
            });
        }

        // Actualiza imagen preview individual (sin cambios)
        function updateOptionPreview(imgElement, previewFilename, previewName) {
             if (!imgElement) { console.warn(`Intento de actualizar preview para elemento nulo: ${previewName}`); return; }

             const defaultErrorSrc = CONFIG.DEFAULT_PREVIEW_ERROR_IMAGE || 'about:blank';
             let finalSrc = defaultErrorSrc;

             if (previewFilename && typeof previewFilename === 'string' && previewFilename.trim() !== '') {
                 if (!previewFilename.startsWith('http') && !previewFilename.startsWith('data:') && !previewFilename.startsWith('/')) {
                     finalSrc = (CONFIG.PREVIEW_IMAGE_BASE_PATH || '') + previewFilename;
                 } else { finalSrc = previewFilename; }
             } else { finalSrc = 'about:blank'; }

             if (finalSrc === 'about:blank') {
                if (imgElement.src !== 'about:blank') { imgElement.src = 'about:blank'; imgElement.alt = `Preview ${previewName} (No aplica)`; imgElement.classList.remove('preview-error'); }
                return;
             }

             const currentSrcEnd = imgElement.src.split('/').pop().split('?')[0]; // Ignorar cache busters
             const targetSrcEnd = finalSrc.split('/').pop().split('?')[0];
             if (imgElement.src && currentSrcEnd === targetSrcEnd && !imgElement.classList.contains('preview-error')) { return; }

             imgElement.classList.remove('preview-error');
             imgElement.alt = `Preview ${previewName}`;

             if (loadedPreviewImages[finalSrc] && loadedPreviewImages[finalSrc].complete) {
                 imgElement.src = loadedPreviewImages[finalSrc].src;
             } else {
                 const imgLoader = new Image();
                 loadedPreviewImages[finalSrc] = imgLoader;
                 imgLoader.onload = () => { if (imgElement.alt === `Preview ${previewName}`) { imgElement.src = imgLoader.src; imgElement.classList.remove('preview-error'); } };
                 imgLoader.onerror = () => { console.warn(`ERROR al cargar preview "${previewName}": ${finalSrc}. Usando fallback: ${defaultErrorSrc}`); delete loadedPreviewImages[finalSrc]; if (imgElement.alt === `Preview ${previewName}`) { imgElement.src = defaultErrorSrc; imgElement.classList.add('preview-error'); imgElement.alt = `Error cargando ${previewName}`; } };
                 imgLoader.src = finalSrc;
             }
        }


        // Actualiza resumen configuración (sin cambios)
        function updateConfigSummary(state) {
            let summaryHTML = '<strong>Resumen de Configuración:</strong>';
            if (!state.isValid) {
                summaryHTML += '<span class="text-danger mt-2 d-block"><i class="fas fa-exclamation-triangle me-1"></i>Configuración inválida. Verifique dimensiones.</span>';
            } else {
                summaryHTML += `<span><strong>Dimensiones:</strong> ${state.totalWidth}mm Ancho x ${state.height}mm Alto (${state.numPanes} Hoja/s)</span>`;
                if (state.panes.length > 0) {
                    summaryHTML += '<span class="mt-2"><strong>Detalle por Hoja:</strong></span>';
                    state.panes.forEach((pane, index) => {
                        summaryHTML += `<span style="padding-left: 15px;"><i class="fas fa-caret-right fa-xs me-1 text-muted"></i>Hoja ${index + 1}: ${pane.width}mm (${pane.openingTypeText || 'N/A'})</span>`;
                    });
                } else { summaryHTML += '<span class="text-warning mt-2 d-block">Error: No se pudieron leer detalles de hojas.</span>'; }
                summaryHTML += `<span class="mt-2"><strong>Acabados y Vidrio:</strong></span>`;
                summaryHTML += `<span style="padding-left: 15px;"><strong>Marco:</strong> ${state.frameColorText || 'N/A'}</span>`;
                summaryHTML += `<span style="padding-left: 15px;"><strong>Manilla(s):</strong> ${state.hasOperablePanes ? state.handleColorText || 'N/A' : 'No aplica (Fijas)'}</span>`;
                summaryHTML += `<span style="padding-left: 15px;"><strong>Vidrio:</strong> ${state.glassTypeText || 'N/A'}</span>`;
                summaryHTML += `<span class="mt-2"><strong>Accesorios:</strong></span>`;
                summaryHTML += `<span style="padding-left: 15px;">${state.accessoriesText.length > 0 ? state.accessoriesText.join(', ') : 'Ninguno'}</span>`;
            }
            DOMElements.configSummaryDiv.innerHTML = summaryHTML;
        }

        // Actualiza display precio (sin cambios)
        function updatePriceDisplay(price, isValid) {
             DOMElements.totalPriceDisplay.textContent = isValid ? `$${price.toLocaleString('es-CL')} CLP` : '$ --- CLP';
         }

        // Aplica Restricción de Corredera (sin cambios)
        function applySlidingRestrictions(state) {
            if (state.numPanes < 2) {
                DOMElements.paneSpecificConfigsContainer.querySelectorAll('.opening-option').forEach(label => {
                    const radio = label.querySelector('input[type="radio"]');
                    if (radio) {
                        const isSliding = radio.value === 'sliding';
                        const isDisabled = isSliding && state.numPanes === 1;
                        radio.disabled = isDisabled;
                        label.classList.toggle('disabled', isDisabled);
                        if (isDisabled && radio.checked) {
                            const fixedRadio = label.closest('.pane-opening-config').querySelector('input[value="fixed"]');
                            if (fixedRadio) {
                                fixedRadio.checked = true;
                                fixedRadio.dispatchEvent(new Event('change', { bubbles: true }));
                            }
                        }
                    }
                });
                return;
            }

            const shouldRestrict = state.hasSlidingPane;
            DOMElements.paneSpecificConfigsContainer.querySelectorAll('.pane-opening-config').forEach(paneDiv => {
                paneDiv.querySelectorAll('.opening-option').forEach(label => {
                    const radio = label.querySelector('input[type="radio"]');
                    if (!radio) return;
                    const openingType = radio.value;
                    let disableOption = shouldRestrict && openingType !== 'fixed' && openingType !== 'sliding';

                    radio.disabled = disableOption;
                    label.classList.toggle('disabled', disableOption);

                    if (disableOption && radio.checked) {
                        const fixedRadio = paneDiv.querySelector('input[value="fixed"]');
                        if (fixedRadio) {
                            fixedRadio.checked = true;
                             paneDiv.querySelectorAll('.opening-option').forEach(opt => opt.classList.remove('selected'));
                             const fixedLabel = paneDiv.querySelector('.opening-option[for="' + fixedRadio.id + '"]');
                             if(fixedLabel) fixedLabel.classList.add('selected');
                             console.warn(`Opción ${openingType} deshabilitada, forzando Hoja ${parseInt(paneDiv.dataset.paneIndex)+1} a Fijo.`);
                             const paneIndex = parseInt(paneDiv.dataset.paneIndex);
                             if(state.panes[paneIndex]) {
                                state.panes[paneIndex].openingType = 'fixed';
                                state.panes[paneIndex].openingTypeText = CONFIG.OPENING_TYPE_DETAILS['fixed'].name;
                             }
                        }
                    }
                });
            });
        }


        // Orquesta la actualización (sin cambios)
        function handleConfigurationChange(event) {
             const triggerElement = event ? event.target : null;
             const triggerId = triggerElement ? (triggerElement.id || triggerElement.name || triggerElement.tagName) : 'Inicial/Manual';
             // console.log(`handleConfigurationChange triggered by: ${triggerId}`);

             let state = getCurrentConfiguration();
             applySlidingRestrictions(state); // Aplicar restricciones

             // Volver a obtener el estado si las restricciones forzaron un cambio
             if (state.hasSlidingPane && triggerElement && triggerElement.type === 'radio' && triggerElement.name.startsWith('opening-type-')) {
                 state = getCurrentConfiguration();
             }

             validateDimensions(state); // Validar después de posibles cambios forzados
             const price = calculatePrice(state); // Calcular precio con el estado final

             updateVisualization(state); // Dibuja usando estado final (incluye lógica de clamp visual)
             updateConfigSummary(state);
             updatePriceDisplay(price, state.isValid);
             updateOptionPrices(state); // Actualizar precios de opciones con estado final
             updateSmallOptionPreviews(state);

             // Lógica específica manilla
             if (DOMElements.handleColorSelect && DOMElements.handleMessageDiv) {
                  const needsHandle = state.hasOperablePanes;
                  DOMElements.handleColorSelect.disabled = !needsHandle;
                  DOMElements.handleMessageDiv.style.display = needsHandle ? 'none' : 'block';
              }
         }

        // Maneja cambio tipo ventana (sin cambios)
        function handleWindowTypeChange() {
             console.log("-> handleWindowTypeChange()");
             const numPanes = parseInt(DOMElements.windowTypeSelect.value);
             const constraints = CONFIG.DIMENSION_CONSTRAINTS[numPanes];
             if (!constraints) { console.error(`Fatal: No hay restricciones para ${numPanes} hojas.`); alert(`Error interno: No se encontraron configuraciones para ${numPanes} hojas.`); return; }

             let currentTotalWidth = 0;
             const currentStateBeforeChange = getCurrentConfiguration(); // Leer estado antes de cambiar estructura
             if (currentStateBeforeChange.panes && currentStateBeforeChange.panes.length > 0) { currentTotalWidth = currentStateBeforeChange.panes.reduce((sum, p) => sum + p.width, 0); }
             else if (DOMElements.totalWidthInput.style.display !== 'none') { currentTotalWidth = parseInt(DOMElements.totalWidthInput.value) || constraints.minW; }
             currentTotalWidth = Math.max(constraints.minW, Math.min(constraints.maxW, isNaN(currentTotalWidth) ? constraints.minW : currentTotalWidth));

             DOMElements.heightInput.min = constraints.minH; DOMElements.heightInput.max = constraints.maxH; DOMElements.heightInput.placeholder = `${constraints.minH}-${constraints.maxH}`;
             let currentHeight = parseInt(DOMElements.heightInput.value);
             DOMElements.heightInput.value = Math.max(constraints.minH, Math.min(constraints.maxH, isNaN(currentHeight) ? constraints.minH : currentHeight));

             if (numPanes > 1) { createPaneWidthInputs(numPanes, currentTotalWidth, constraints); }
             else {
                 DOMElements.totalWidthContainer.style.display = 'flex'; DOMElements.paneWidthsContainer.innerHTML = ''; DOMElements.paneWidthsContainer.style.display = 'none'; DOMElements.paneWidthsLabel.style.display = 'none';
                 if (DOMElements.paneWidthValidationMsg) { DOMElements.paneWidthValidationMsg.style.display = 'none'; DOMElements.paneWidthValidationMsg.textContent = ''; } // Ocultar mensaje validación hojas
                 DOMElements.totalWidthInput.min = constraints.minW; DOMElements.totalWidthInput.max = constraints.maxW; DOMElements.totalWidthInput.placeholder = `${constraints.minW}-${constraints.maxW}`; DOMElements.totalWidthInput.value = currentTotalWidth;
             }

             createPaneSpecificConfigs(numPanes);

             const newBaseFilename = getCurrentBaseImageFilename(numPanes);
             const triggerUpdate = () => {
                  console.log(`Imagen ${newBaseFilename} cargada (o no necesaria), disparando actualización completa post-cambio tipo.`);
                  handleConfigurationChange({ target: DOMElements.windowTypeSelect });
             };

             if (canvasCtx) {
                  console.log(`Cargando imagen base para ${numPanes} hojas: ${newBaseFilename}`);
                  loadSpecificBaseImage(newBaseFilename, triggerUpdate);
                  const baseImg = loadedBaseImages[newBaseFilename];
                  if (!baseImg || !baseImg.complete) {
                      if (DOMElements.windowCanvas) DOMElements.windowCanvas.classList.add('loading');
                      handleConfigurationChange({ target: { id: 'windowTypeChangeBeforeImage' } }); // Update UI except canvas
                  } else { triggerUpdate(); } // Imagen ya lista, hacer update completo
             } else { triggerUpdate(); } // No hay canvas, hacer update completo de UI
             console.log("<- handleWindowTypeChange() finalizado.");
         }


        // Genera PDF (ACTUALIZADO con logo Base64, mejor formato y helpers)
        function generateQuotePDF(state) {
              console.log("-> generateQuotePDF()");
              if (!state.isValid) { alert("Configuración inválida. Corrija dimensiones antes de generar el PDF."); return; }
              if (!jsPDF_Instance) { alert("Error crítico: La función para generar PDF no está disponible."); setQuoteButtonLoading(false); return; }

              setQuoteButtonLoading(true);
              if(DOMElements.pdfStatusDiv) { DOMElements.pdfStatusDiv.textContent = 'Generando PDF...'; DOMElements.pdfStatusDiv.className = 'mt-3 small text-primary'; }

              setTimeout(() => {
                  try {
                      const doc = new jsPDF_Instance({ orientation: 'p', unit: 'mm', format: 'a4' });
                      const pageHeight = doc.internal.pageSize.height || 297;
                      const pageWidth = doc.internal.pageSize.width || 210;
                      const margin = 15;
                      const contentWidth = pageWidth - 2 * margin;
                      let currentY = margin; // Track current Y position

                      // Helper para añadir texto con manejo de página nueva
                      const addTextLinePDF = (text, x, y, options = {}, lineHeight = 6) => {
                           // Ajustar lineHeight basado en tamaño de fuente si existe en options
                           const fontSize = options.fontSize || doc.getFontSize();
                           lineHeight = fontSize * 0.352778 * 1.5; // Convert pt to mm and add line spacing

                           const lines = doc.splitTextToSize(String(text), options.maxWidth || contentWidth);
                           let neededHeight = lines.length * lineHeight;

                           if (y + neededHeight > pageHeight - margin) {
                                doc.addPage();
                                currentY = margin; // Reset Y
                                y = currentY;
                                // Redibujar header/footer si es necesario en nuevas páginas
                                // (Omitido aquí por simplicidad, pero se podría añadir)
                           }
                           doc.text(lines, x, y, options);
                           currentY = y + neededHeight; // Actualizar Y al final del bloque de texto
                           return currentY;
                       };

                       // Helper para títulos de sección
                       const addSectionTitlePDF = (title, y) => {
                           let tempY = y + 4; // Espacio antes del título
                           doc.setFontSize(12);
                           doc.setFont("helvetica", "bold");
                           tempY = addTextLinePDF(title, margin, tempY, {}, 8);
                           doc.setLineWidth(0.2);
                           doc.setDrawColor(100, 100, 100); // Gris
                           doc.line(margin, tempY - 4, margin + 60, tempY - 4); // Subrayado corto
                           doc.setFontSize(10); // Reset para contenido
                           doc.setFont("helvetica", "normal");
                           return tempY + 1; // Espacio después del título
                       };

                       // Helper para líneas de detalle (Label: Value)
                       const addDetailLinePDF = (label, value, y, indent = 0) => {
                            const labelX = margin + indent;
                            const valueX = labelX + 45; // Ajustar si etiquetas son largas
                            const valueMaxWidth = contentWidth - valueX + margin - indent; // Max width for value
                            const lineHeight = 5; // Espacio entre líneas para detalles

                            // Guardar estado de fuente
                            const oldFont = doc.getFont();
                            const oldFontSize = doc.getFontSize();

                            // Dibujar etiqueta en negrita
                            doc.setFont(oldFont.fontName, "bold");
                            let yAfterLabel = addTextLinePDF(`${label}:`, labelX, y, { fontSize: 10 }, lineHeight);

                            // Dibujar valor normal
                            doc.setFont(oldFont.fontName, "normal");
                            let yAfterValue = addTextLinePDF(String(value || 'N/A'), valueX, y, { maxWidth: valueMaxWidth, fontSize: 10 }, lineHeight);

                            // Restaurar fuente y tamaño si es necesario (aunque addTextLinePDF debería manejarlo)
                            // doc.setFont(oldFont.fontName, oldFont.fontStyle);
                            // doc.setFontSize(oldFontSize);

                            // Devolver Y después de la parte más baja + un pequeño espacio
                            return Math.max(yAfterLabel, yAfterValue) + 1;
                       };


                      // --- Contenido del PDF ---

                      // 1. Logo (desde Base64)
                      try {
                           const logoWidth = 45; let logoHeight = 15;
                           const img = new Image(); img.src = logoBase64Data;
                           if (img.width > 0 && img.height > 0) { logoHeight = logoWidth * (img.height / img.width); }
                           logoHeight = Math.min(logoHeight, 25);
                           const logoX = margin; const logoY = margin;
                           if (logoBase64Data && logoBase64Data.startsWith('data:image') && logoBase64Data.length > 100) {
                               doc.addImage(logoBase64Data, 'PNG', logoX, logoY, logoWidth, logoHeight);
                           } else { console.warn("Logo Base64 inválido o no proporcionado. Saltando logo."); }
                       } catch (logoError) { console.error("Error al intentar añadir logo:", logoError); }

                      // 2. Título Principal y Fecha (Alineado a la derecha del logo)
                      const titleX = margin + 50;
                      doc.setFontSize(16); doc.setFont("helvetica", "bold");
                      let titleY = margin + 5;
                      titleY = addTextLinePDF("Cotización Estimada - Ventana PVC", titleX, titleY, { fontSize: 16 }, 8);
                      doc.setFontSize(10); doc.setFont("helvetica", "normal");
                      titleY = addTextLinePDF(`Fecha: ${new Date().toLocaleDateString('es-CL', { year: 'numeric', month: 'long', day: 'numeric' })}`, titleX, titleY, { fontSize: 10 }, 6);
                      currentY = Math.max(currentY, titleY) + 8;

                      doc.setLineWidth(0.3); doc.setDrawColor(180, 180, 180); doc.line(margin, currentY, pageWidth - margin, currentY); currentY += 6;


                      // 3. Secciones de Detalles
                      currentY = addSectionTitlePDF("1. Configuración General", currentY);
                      currentY = addDetailLinePDF("Dimensiones Totales", `${state.totalWidth} mm Ancho x ${state.height} mm Alto`, currentY);
                      currentY = addDetailLinePDF("Número de Hojas", state.numPanes, currentY);
                      currentY = addDetailLinePDF("Área Total", `${state.totalAreaM2.toFixed(2)} m²`, currentY);

                      currentY = addSectionTitlePDF("2. Detalle por Hoja", currentY);
                      state.panes.forEach((pane, index) => {
                          currentY = addDetailLinePDF(`Hoja ${index + 1}`, `Ancho: ${pane.width} mm, Apertura: ${pane.openingTypeText}`, currentY, 5);
                      });

                      currentY = addSectionTitlePDF("3. Acabados y Vidrio", currentY);
                      currentY = addDetailLinePDF("Color Marco", state.frameColorText, currentY);
                      currentY = addDetailLinePDF("Color Manilla(s)", state.hasOperablePanes ? `${state.handleColorText} (${state.numOperablePanes} unid.)` : "No Aplica (Fijas)", currentY);
                      currentY = addDetailLinePDF("Tipo Vidrio", state.glassTypeText, currentY);

                      currentY = addSectionTitlePDF("4. Accesorios", currentY);
                      currentY = addDetailLinePDF("Incluidos", state.accessoriesText.length > 0 ? state.accessoriesText.join(', ') : 'Ninguno', currentY);
                      currentY += 4; // Espacio extra

                      // 4. Línea Separadora y Precio
                      doc.setLineWidth(0.4); doc.setDrawColor(50, 50, 50); doc.line(margin, currentY, pageWidth - margin, currentY); currentY += 6;
                      doc.setFontSize(14); doc.setFont("helvetica", "bold");
                      const priceText = `$ ${state.price.toLocaleString('es-CL')} CLP`;
                      let priceLabelY = currentY; // Guardar Y para alinear
                      addTextLinePDF("Precio Estimado:", margin, priceLabelY, { fontSize: 14 }, 8); // Etiqueta
                      addTextLinePDF(priceText, pageWidth - margin, priceLabelY, { align: 'right', fontSize: 14 }, 8); // Precio
                      currentY = priceLabelY + 8; // Avanzar Y después de la línea de precio

                      doc.setFontSize(9); doc.setFont("helvetica", "italic");
                      currentY = addTextLinePDF("No incluye instalación ni despacho. Precios sujetos a confirmación.", margin , currentY, { fontSize: 9 }, 5);
                      doc.setLineWidth(0.4); doc.line(margin, currentY, pageWidth - margin, currentY); currentY += 8;


                      // 5. Notas Importantes
                      currentY = addSectionTitlePDF("Notas Importantes", currentY);
                      doc.setFontSize(9); doc.setFont("helvetica", "normal");
                      const notes = [
                          "- Esta es una cotización estimada generada automáticamente online.",
                          "- Validez de la estimación: 15 días desde la fecha de generación.",
                          "- Para consultas, contáctenos en: starwinchile@gmail.com | +56 9 6600 3770."
                      ];
                       notes.forEach(note => {
                           currentY = addTextLinePDF(note, margin, currentY, { maxWidth: contentWidth, fontSize: 9 }, 5);
                       });
                       currentY += 4;


                      // 6. Footer con Número de Página
                      const pageCount = doc.internal.getNumberOfPages();
                      for(let i = 1; i <= pageCount; i++) {
                           doc.setPage(i);
                           doc.setFontSize(8);
                           doc.setFont("helvetica", "italic");
                           const footerY = pageHeight - margin / 2;
                           doc.text(`Starwin Chile | Cotizador Online  | Página ${i} de ${pageCount}`, pageWidth / 2, footerY, { align: 'center' });
                       }

                      // 7. Guardar PDF
                      const timestamp = new Date().toISOString().replace(/[-:.]/g, '').slice(0, 14);
                      const filename = `Cotizacion_StarwinPVC_${state.totalWidth}x${state.height}_${timestamp}.pdf`;
                      doc.save(filename);

                      if(DOMElements.pdfStatusDiv) {
                          DOMElements.pdfStatusDiv.textContent = `PDF "${filename}" generado correctamente.`;
                          DOMElements.pdfStatusDiv.className = 'mt-3 small text-success'; // Apply success style
                      }

                  } catch (error) {
                      console.error("Error CRÍTICO durante generación del PDF:", error);
                      if(DOMElements.pdfStatusDiv) {
                          DOMElements.pdfStatusDiv.textContent = 'Error al generar PDF. Intente de nuevo o contacte soporte.';
                          DOMElements.pdfStatusDiv.className = 'mt-3 small text-danger'; // Apply danger style
                      }
                      alert("Hubo un problema al generar el PDF. Revise la consola para más detalles.");
                  } finally {
                      setQuoteButtonLoading(false);
                  }
              }, 100); // Pequeña demora para UI update
              console.log("<- generateQuotePDF() finalizado.");
         }


        // Actualiza estado botón cotización (sin cambios)
        function setQuoteButtonLoading(isLoading) {
             const button = DOMElements.quoteButton; const spinner = button ? button.querySelector('.spinner-border') : null; const buttonTextSpan = DOMElements.quoteButtonText;
             if (!button || !spinner || !buttonTextSpan) { console.warn("No se pudo actualizar estado del botón de cotización."); return; }
             if (isLoading) { button.disabled = true; spinner.style.display = 'inline-block'; buttonTextSpan.textContent = "Generando..."; }
             else { button.disabled = !currentConfigState.isValid || !jsPDF_Instance; spinner.style.display = 'none'; buttonTextSpan.textContent = "Generar PDF y Solicitar Cotización"; }
         }

        // --- Configuración Inicial y Event Listeners ---
        function initializeConfigurator() {
            console.log("\n---=== INICIALIZANDO CONFIGURADOR STARWIN (v4.1) ===---");

            try {
                 const initialNumPanes = parseInt(DOMElements.windowTypeSelect.value) || 1;
                 const initialConstraints = CONFIG.DIMENSION_CONSTRAINTS[initialNumPanes];
                 if (!initialConstraints) throw new Error(`No hay restricciones iniciales para ${initialNumPanes} hojas.`);
                 DOMElements.heightInput.min = initialConstraints.minH; DOMElements.heightInput.max = initialConstraints.maxH; DOMElements.heightInput.placeholder = `${initialConstraints.minH}-${initialConstraints.maxH}`;
                 const initialH = parseInt(DOMElements.heightInput.value) || 1200; DOMElements.heightInput.value = Math.max(initialConstraints.minH, Math.min(initialConstraints.maxH, initialH));
                 DOMElements.totalWidthInput.min = initialConstraints.minW; DOMElements.totalWidthInput.max = initialConstraints.maxW; DOMElements.totalWidthInput.placeholder = `${initialConstraints.minW}-${initialConstraints.maxW}`;
                 const initialW = parseInt(DOMElements.totalWidthInput.value) || 1000; DOMElements.totalWidthInput.value = Math.max(initialConstraints.minW, Math.min(initialConstraints.maxW, initialW));
             } catch (e) { console.error("Error al aplicar restricciones iniciales:", e); }

            // Añadir spans de precio y tooltips donde falten
            Array.from(DOMElements.glassTypeSelect.options).forEach(option => {
                 const glassValue = option.value; const config = CONFIG.GLASS_TYPE_PRICE_ADDITIONAL_PER_M2[glassValue];
                 if (config) { option.title = `${config.description} (Total Vidrio: +${config.total.toLocaleString('es-CL')} CLP/m²)`; }
                 if (!option.querySelector('.option-price')) { const priceSpan = document.createElement('span'); priceSpan.className = 'option-price text-muted small ms-1'; option.appendChild(priceSpan); }
             });
            Array.from(DOMElements.handleColorSelect.options).forEach(option => {
                 const handleValue = option.value; const details = CONFIG.HANDLE_COLOR_DETAILS[handleValue];
                 if (details && details.preview) { option.dataset.previewSrc = details.preview; }
                 if (!option.querySelector('.option-price')) { const priceSpan = document.createElement('span'); priceSpan.className = 'option-price text-muted small ms-1'; option.appendChild(priceSpan); }
             });
            if(DOMElements.handleFixedPriceInfo) {
                 DOMElements.handleFixedPriceInfo.textContent = CONFIG.HANDLE_FLAT_PRICE.toLocaleString('es-CL');
            }
             DOMElements.accessoryCheckboxes.forEach(checkbox => {
                 const accValue = checkbox.value; const accConfig = CONFIG.ACCESSORY_PRICES[accValue]; const label = document.querySelector(`label[for="${checkbox.id}"]`); if (!label) return;
                 if (accConfig && accConfig.description) { label.title = accConfig.description; }
                 if (!label.querySelector('.option-price')) { const newPriceSpan = document.createElement('span'); newPriceSpan.className = 'option-price text-muted small ms-1'; label.appendChild(newPriceSpan); }
                 if (!label.querySelector('.accessory-preview-image')) { console.error(`¡Falta imagen preview en HTML para accesorio: ${accValue}!`); }
             });


            // Crear configuraciones específicas iniciales (aperturas)
            const initialNumPanes = parseInt(DOMElements.windowTypeSelect.value);
            createPaneSpecificConfigs(initialNumPanes);

            // Cargar imagen base inicial y disparar primera actualización completa
            const initialBaseFilename = getCurrentBaseImageFilename(initialNumPanes);
             const performInitialUpdate = () => {
                 console.log(`Realizando primera actualización completa.`);
                 handleConfigurationChange({ target: { id: 'initialSetup' } });
             };

             if (canvasCtx) {
                 console.log(`Cargando imagen base inicial: ${initialBaseFilename}`);
                 loadSpecificBaseImage(initialBaseFilename, performInitialUpdate);
                 const initialImg = loadedBaseImages[initialBaseFilename];
                 if (!initialImg || !initialImg.complete) {
                     if (DOMElements.windowCanvas) DOMElements.windowCanvas.classList.add('loading');
                     handleConfigurationChange({ target: { id: 'initialSetupBeforeImage' } }); // Update UI only
                 }
             } else {
                 console.warn("No se cargará imagen base. Realizando primera actualización sin visualización.");
                 if (DOMElements.windowCanvas) drawCanvasError("Canvas no disponible");
                 performInitialUpdate();
             }


            // --- Añadir Event Listeners Principales ---
            console.log("Añadiendo event listeners del configurador...");
            if (DOMElements.windowTypeSelect) DOMElements.windowTypeSelect.addEventListener('change', handleWindowTypeChange);

            const setupChangeListener = (element) => {
                  if (!element) return;
                  // Usar 'input' para números para respuesta inmediata, 'change' para otros
                  const eventType = (element.tagName === 'INPUT' && element.type === 'number') ? 'input' : 'change';
                  element.addEventListener(eventType, handleConfigurationChange);
                  // Añadir 'change' también a los number inputs para capturar el valor final si se escribe/pega
                  if (eventType === 'input' && element.type === 'number') {
                    element.addEventListener('change', handleConfigurationChange);
                  }
             };
            setupChangeListener(DOMElements.heightInput);
            setupChangeListener(DOMElements.totalWidthInput);
            setupChangeListener(DOMElements.glassTypeSelect);
            setupChangeListener(DOMElements.handleColorSelect);
            DOMElements.accessoryCheckboxes.forEach(setupChangeListener);

            // Listener delegado para anchos de hoja (usar 'input' y 'change')
            if (DOMElements.paneWidthsContainer) {
                 DOMElements.paneWidthsContainer.addEventListener('input', (event) => { if (event.target.classList.contains('pane-width-input')) { handleConfigurationChange(event); } });
                 DOMElements.paneWidthsContainer.addEventListener('change', (event) => { if (event.target.classList.contains('pane-width-input')) { handleConfigurationChange(event); } });
             }

            // Listener delegado para colores de marco (click en label dispara change en radio)
            if (DOMElements.frameColorOptionsContainer) {
                  DOMElements.frameColorOptionsContainer.addEventListener('click', (event) => { const targetOption = event.target.closest('.color-option'); if (targetOption) { const radio = targetOption.querySelector('input[type="radio"]'); if (radio && !radio.checked) { radio.checked = true; const changeEvent = new Event('change', { bubbles: true }); radio.dispatchEvent(changeEvent); } } });
                  DOMElements.frameColorOptionsContainer.addEventListener('change', (event) => { if (event.target.type === 'radio' && event.target.name === 'frame-color-radio') { DOMElements.frameColorOptionsContainer.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('selected')); const selectedLabel = event.target.closest('.color-option'); if (selectedLabel) selectedLabel.classList.add('selected'); handleConfigurationChange(event); } });
             } else { console.warn("Contenedor de opciones de color no encontrado."); }

            // Listener para opciones de apertura ya está dentro de createPaneSpecificConfigs

            // Listener para el botón de generar PDF
            if (DOMElements.quoteButton) {
                 DOMElements.quoteButton.addEventListener('click', () => {
                    console.log("Botón 'Generar PDF' clickeado.");
                    // Pequeña demora para asegurar que el estado se actualizó en el DOM/JS
                    setTimeout(() => {
                         const finalState = getCurrentConfiguration(); // Obtener estado final
                         if (validateDimensions(finalState) && jsPDF_Instance) { // Re-validar antes de generar
                             generateQuotePDF(finalState);
                         } else {
                             console.warn("Click en generar PDF, pero config inválida o jsPDF falta.");
                             if (!finalState.isValid) {
                                 alert("Revise y corrija las dimensiones antes de generar el PDF. Los campos inválidos están marcados en rojo.");
                                 const firstInvalidInput = document.querySelector('.form-control.is-invalid, .form-select.is-invalid');
                                 if(firstInvalidInput) {
                                     firstInvalidInput.focus();
                                     firstInvalidInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                 }
                             } else if (!jsPDF_Instance) {
                                 alert("Error crítico: La función para generar PDF no está disponible.");
                             }
                              setQuoteButtonLoading(false);
                         }
                    }, 50);
                });
             } else { console.warn("Botón de cotización no encontrado."); }

            console.log("Listeners principales del configurador añadidos.");
            console.log("---=== INICIALIZACIÓN LÓGICA CONFIGURADOR COMPLETADA (v4.1) ===---");
        }

        // --- Iniciar el Configurador ---
        if (essentialElementsFound) {
            initializeConfigurator();
        } else {
            console.error("Inicialización del configurador abortada por falta de elementos DOM críticos.");
             // Mensaje de error ya mostrado si faltan críticos
        }

    }); // Fin DOMContentLoaded Global
</script>

</body>
</html>